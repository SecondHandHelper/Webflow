!// modules are defined as an array
// [ module function, map of requires ]
//
// map of requires is short require name -> numeric require
//
// anything defined in a previous bundle is accessed via the
// orig method which is the require for previous bundles
function(e,t,n,r,l){/* eslint-disable no-undef */var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof o[r]&&o[r],d=a.cache||{},i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function s(t,n){if(!d[t]){if(!e[t]){// if we cannot find the module within our internal map or
// cache jump to the current global require ie. the last bundle
// that was added to the page.
var l="function"==typeof o[r]&&o[r];if(!n&&l)return l(t,!0);// If there are other bundles on this page the require from the
// previous one is saved to 'previousRequire'. Repeat this as
// many times as there are bundles until the module is found or
// we exhaust the require chain.
if(a)return a(t,!0);// Try the node require function if it exists.
if(i&&"string"==typeof t)return i(t);var c=Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}m.resolve=function(n){var r=e[t][1][n];return null!=r?r:n},m.cache={};var u=d[t]=new s.Module(t);e[t][0].call(u.exports,m,u,u.exports,this)}return d[t].exports;function m(e){var t=m.resolve(e);return!1===t?{}:s(t)}}s.isParcelRequire=!0,s.Module=function(e){this.id=e,this.bundle=s,this.exports={}},s.modules=e,s.cache=d,s.parent=a,s.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(s,"root",{get:function(){return o[r]}}),o[r]=s;for(var c=0;c<t.length;c++)s(t[c]);if(n){// Expose entry point to Node, AMD or browser globals
// Based on https://github.com/ForbesLindesay/umd/blob/master/template.js
var u=s(n);// CommonJS
"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):l&&(this[l]=u)}}({"2mRjC":[function(e,t,n){authUser.whenSet(async e=>{if(localStorage.getItem("lwlItemDrafts")&&document.referrer.includes("sign-in")){document.getElementById("headerImage").style.display="none",document.getElementById("threadInputDiv").style.display="none",document.getElementById("lwlItemsDiv").style.display="none",document.getElementById("loadingDiv").style.display="flex";let e=JSON.parse(localStorage.getItem("lwlItemDrafts"));for(let t of e)await firebase.app().functions("europe-west1").httpsCallable("createItem")({id:t.id,item:t});location.href="/private#wardrobe"}}),document.getElementById("doneButton").addEventListener("click",()=>{let e=document.getElementById("lwlThreadUrl");if(!e.value.length){console.log("No url thread given");return}document.getElementById("doneButton").disabled=!0,document.getElementById("scrapeProgressDiv").style.display="flex",document.getElementById("scrapeProgress").innerText="Startar...";let t=new WebSocket("wss://lwl-to-mai-heypmjzjfq-ey.a.run.app");t.addEventListener("open",()=>{console.log("connected to lwl thread scraping server"),t.send(JSON.stringify({url:e.value}))}),t.addEventListener("message",async n=>{console.log("received message from server",n.data);let l=n.data;try{l=JSON.parse(n.data)}catch(e){l={status:"Startar..."}}if(document.getElementById("scrapeProgress").innerText=l.status,l.status.match(/klar/i)){t.close(),document.getElementById("scrapeProgress").innerText="Skapar plagg i Mai med data h\xe4mtade fr\xe5n LWL";let n=await firebase.app().functions("europe-west3").httpsCallable("createItemDraftsFromLwl",{timeout:24e4})({itemData:l.data,url:e});authUser.current?location.href="/private#wardrobe":(document.getElementById("scrapeProgressDiv").style.display="none",r(n.data),document.getElementById("doneButton").disabled=!1,document.getElementById("doneButton").style.display="none",document.getElementById("signInButton").style.display="block",document.getElementById("signInButton").innerText="Logga in/Skapa konto",document.getElementById("signInButton").addEventListener("click",async()=>{localStorage.setItem("lwlItemDrafts",JSON.stringify(n.data)),location.href="/sign-in"}))}})});let r=e=>{document.getElementById("lwlItemsDiv").style.display="block";let t=document.getElementById("lwlItemCard")||document.getElementsByClassName("lwlItemCard")[0],n=document.getElementById("lwlItemList");for(let r of(n.innerHTML="",e)){let e=t.cloneNode(!0);e.id=`lwlItemCard${r.id}`,e.classList.add("lwlItemCard");let l=r.images?.enhancedFrontImageLarge||r.images?.enhancedFrontImage||r.images?.frontImageLarge||r.images?.frontImage;l?(e.querySelector(".img-container").style.backgroundImage=`url("${l}")`,e.querySelector(".no-image-text").style.display="none"):e.querySelector(".img-container").style.display="none",e.querySelector(".lwl-item-title").innerText=`${r.cleanedBrand||r.brand?.trim()}`,e.querySelector(".lwl-item-subtext").innerText=`${[r.category,r.maiSize].filter(e=>e).join(", ")}`,n.appendChild(e)}}},{}]},["2mRjC"],"2mRjC","parcelRequire81ca")//# sourceMappingURL=lwl.js.map
;
//# sourceMappingURL=lwl.js.map
