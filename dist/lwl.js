!// modules are defined as an array
// [ module function, map of requires ]
//
// map of requires is short require name -> numeric require
//
// anything defined in a previous bundle is accessed via the
// orig method which is the require for previous bundles
function(e,t,n,o,r){/* eslint-disable no-undef */var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof a[o]&&a[o],i=s.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function l(t,n){if(!i[t]){if(!e[t]){// if we cannot find the module within our internal map or
// cache jump to the current global require ie. the last bundle
// that was added to the page.
var r="function"==typeof a[o]&&a[o];if(!n&&r)return r(t,!0);// If there are other bundles on this page the require from the
// previous one is saved to 'previousRequire'. Repeat this as
// many times as there are bundles until the module is found or
// we exhaust the require chain.
if(s)return s(t,!0);// Try the node require function if it exists.
if(c&&"string"==typeof t)return c(t);var u=Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}d.resolve=function(n){var o=e[t][1][n];return null!=o?o:n},d.cache={};var m=i[t]=new l.Module(t);e[t][0].call(m.exports,d,m,m.exports,this)}return i[t].exports;function d(e){var t=d.resolve(e);return!1===t?{}:l(t)}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=e,l.cache=i,l.parent=s,l.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(l,"root",{get:function(){return a[o]}}),a[o]=l;for(var u=0;u<t.length;u++)l(t[u]);if(n){// Expose entry point to Node, AMD or browser globals
// Based on https://github.com/ForbesLindesay/umd/blob/master/template.js
var m=l(n);// CommonJS
"object"==typeof exports&&"undefined"!=typeof module?module.exports=m:"function"==typeof define&&define.amd?define(function(){return m}):r&&(this[r]=m)}}({"2mRjC":[function(e,t,n){let o=[{sourceScheme:"Secure",path:"/",expires:-1,sourcePort:443,size:75,sameParty:!1,session:!0,domain:".facebook.com",name:"presence",httpOnly:!1,secure:!0,value:"C%7B%22t3%22%3A%5B%5D%2C%22utc3%22%3A1709677040691%2C%22v%22%3A1%7D"},{expires:1717453009.372352,sourcePort:443,sameParty:!1,session:!1,secure:!0,sourceScheme:"Secure",path:"/",size:82,domain:".facebook.com",sameSite:"None",name:"fr",httpOnly:!0,value:"1Q49ICUSijZ20nwbT.AWVLICBtB1ta5J8iCYUydGTMET8.Bl55nQ..AAA.0.0.Bl55nQ.AWXZXjvmXTg"},{expires:1741213009.372328,sourcePort:443,sameParty:!1,session:!1,secure:!0,sourceScheme:"Secure",path:"/",size:98,domain:".facebook.com",sameSite:"None",name:"xs",httpOnly:!0,value:"21%3AjHet3D7sHY-ahg%3A2%3A1709676989%3A-1%3A6776%3A%3AAcU_Zs1FzpmhVFi1OMuz3RNqhcuhFaxDSdNZDaY1lg"},{expires:1741213009.372166,sourcePort:443,sameParty:!1,session:!1,secure:!0,sourceScheme:"Secure",path:"/",size:21,domain:".facebook.com",sameSite:"None",name:"c_user",httpOnly:!1,value:"100000005802870"},{expires:1710281838,sourcePort:443,sameParty:!1,session:!1,secure:!0,sourceScheme:"Secure",path:"/",size:11,domain:".facebook.com",sameSite:"None",name:"wd",httpOnly:!1,value:"1920x1200"},{expires:1744236986.178777,sourcePort:443,sameParty:!1,session:!1,secure:!0,sourceScheme:"Secure",path:"/",size:5,domain:".facebook.com",sameSite:"Lax",name:"ps_l",httpOnly:!0,value:"0"},{sourceScheme:"Secure",path:"/",expires:1744236986.17879,sourcePort:443,size:5,sameParty:!1,session:!1,domain:".facebook.com",name:"ps_n",httpOnly:!0,secure:!0,value:"0"},{sourceScheme:"Secure",path:"/",expires:1744236986.178708,sourcePort:443,size:28,sameParty:!1,session:!1,domain:".facebook.com",name:"datr",httpOnly:!0,secure:!0,value:"t5nnZbm8Oi8Q97yMOBwn_YQ_"},{sourceScheme:"Secure",path:"/",expires:1744236993.430514,sourcePort:443,size:26,sameParty:!1,session:!1,domain:".facebook.com",name:"sb",httpOnly:!0,secure:!0,value:"t5nnZde9cZWl0rpLdEEhz9jI"}];document.getElementById("doneButton").addEventListener("click",()=>{let e=document.getElementById("lwlThreadUrl");if(!e.value.length){console.log("No url thread given");return}let t=new WebSocket("wss://lwl-to-mai-heypmjzjfq-ey.a.run.app");t.addEventListener("open",()=>{console.log("connected to lwl thread scraping server"),t.send(JSON.stringify({fbCookies:o,url:e.value}))}),t.addEventListener("message",async e=>{document.getElementById("scrapeProgressDiv").style.display="flex",console.log("received message from server",e.data);let n=JSON.parse(e.data);if(document.getElementById("scrapeProgress").innerText=n.status,n.status.match(/done/i)){t.close(),document.getElementById("scrapeProgress").innerText="Skapar plagg i Mai med data h\xe4mtade fr\xe5n LWL";let e=await firebase.app().functions("europe-west3").httpsCallable("createItemDraftsFromLwl")({itemData:n.data});document.getElementById("scrapeProgressDiv").style.display="none",e.data.length&&r(e.data)}})});let r=e=>{document.getElementById("lwlItemsDiv").style.display="block";let t=document.getElementById("lwlItemCard"),n=document.getElementById("lwlItemList");for(let o of(n.innerHTML="",e)){let e=t.cloneNode(!0);e.id=o.id;let r=o.images?.enhancedFrontImageLarge||o.images?.enhancedFrontImage||o.images?.frontImageLarge||o.images?.frontImage;r?(e.querySelector(".img-container").style.backgroundImage=`url("${r}")`,e.querySelector(".no-image-text").style.display="none"):e.querySelector(".img-container").style.display="none",e.querySelector(".lwl-item-title").innerText=`${o.cleanedBrand||o.brand?.trim()}`,e.querySelector(".lwl-item-subtext").innerText=`${[o.category,o.maiSize].filter(e=>e).join(", ")}`,n.appendChild(e)}}},{}]},["2mRjC"],"2mRjC","parcelRequire81ca")//# sourceMappingURL=lwl.js.map
;
//# sourceMappingURL=lwl.js.map
