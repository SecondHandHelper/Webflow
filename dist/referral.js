!function(){async function e(){if(!user.current.referralData?.referralCode)return location.href="/private";if(document.getElementById("referralCode").innerText=user.current.referralData.referralCode,user.current?.referralData?.referredUsers?.length>0){let e=(await firebase.app().functions("europe-west1").httpsCallable("referralStats")()).data;document.getElementById("topStats").style["background-position-x"]="-180px",document.getElementById("invitedFriends").innerText=user.current.referralData.referredUsers.length;let t=e.referredUsers.reduce((e,t)=>e+t.soldItems,0);document.getElementById("soldItems").innerText=`${t}`,document.getElementById("savedCo2").innerText=(10*t/1e3).toLocaleString("sv"),document.getElementById("topStatsDiv").style.display="flex",document.getElementById("referralDetails").style.display="block",document.getElementById("nextFreePill").style.display=e.freeSells>e.usedFreeSells?"block":"none",document.getElementById("freeSells").innerText=e.freeSells,document.getElementById("usedFreeSells").innerText=e.usedFreeSells,document.getElementById("availableFreeSells").innerText=`/${e.freeSells}`,document.getElementById("invitesRegistered").innerText=e.referredUsers.length,document.getElementById("invitesAddedItems").innerText=e.referredUsers.filter(e=>"activated"===e.status).length,document.getElementById("invitesSoldItems").innerText=e.referredUsers.filter(e=>"sold"===e.status).length;let r=document.getElementById("invitedFriendRow"),n=document.getElementById("invitedFriendStatusesDiv");for(let[t,l]of(n.innerHTML="",e.referredUsers.entries())){let e=r.cloneNode(!0);e.id=`${e.id}_${t}`,e.firstChild.innerText=l.name,e.childNodes[1].innerText=({registered:"Skapat konto",activated:"Lagt upp plagg",sold:"SÃ¥lt plagg"})[l.status],n.appendChild(e)}}}shareReferralLinkButton.addEventListener("click",shareCode),document.getElementById("referralCode").innerText="",user.whenSet(e)}();
//# sourceMappingURL=referral.js.map
