{"mappings":"C,A,kC;A,uC;A,E;A,2D;A,E;A,4D;A,wD;A,S,C,C,C,C,C,C,C,C,C,E,2B,E,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,A,Y,O,C,C,E,E,C,C,E,C,E,E,K,E,C,E,E,A,a,O,Q,A,Y,O,O,O,E,O,O,C,I,C,Q,S,E,C,C,C,E,G,C,C,C,E,C,C,G,C,C,C,E,C,C,0D;A,+D;A,8B;A,I,E,A,Y,O,C,C,E,E,C,C,E,C,G,C,G,E,O,E,E,C,E,gE;A,6D;A,+D;A,gC;A,G,E,O,E,E,C,E,+C;A,G,G,A,U,O,E,O,E,G,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,O,C,S,C,E,I,E,C,C,E,C,E,C,E,C,O,A,M,E,E,C,E,E,K,C,C,E,I,E,C,C,E,C,I,E,M,C,G,C,C,E,C,E,C,I,C,E,O,C,E,E,E,O,C,I,C,C,O,C,C,E,C,O,C,S,E,C,E,I,E,E,O,C,G,M,A,C,I,E,C,E,E,E,C,C,E,e,C,C,E,E,M,C,S,C,E,I,C,E,C,E,I,C,M,C,E,I,C,O,C,C,C,E,E,O,C,E,E,K,C,E,E,M,C,E,E,Q,C,S,C,C,C,E,C,C,E,C,C,S,C,C,C,E,E,O,C,C,E,C,E,A,E,O,c,C,E,O,C,I,W,O,C,C,E,A,C,G,C,C,E,C,E,I,I,E,E,E,E,M,C,I,E,C,C,E,E,G,E,C,qD;A,yE;A,I,E,E,E,Y;A,U,O,S,A,a,O,O,O,O,C,E,A,Y,O,Q,O,G,C,O,W,O,C,G,G,C,I,C,E,C,C,C,C,E,C,Q,C,S,C,C,C,C,C,ECAA,IAAA,EAAA,EAAA,aAEA,IAAM,EAAS,kBACf,GAAI,EAAO,GAAA,CAAK,CACd,IAAM,EAAgB,SAAS,gBAAA,CAAiB,WAChD,EAAc,OAAA,CAAQ,AAAA,IACpB,EAAO,KAAA,CAAM,UAAA,CAAa,QAC5B,EACF,CAEA,eAAe,EAAS,CAAM,EAC5B,IAAM,EAAO,MAAM,eAAe,CAAC,WAAW,EAAE,EAAO,CAAC,EACxD,GAAI,CAAC,EAAK,IAAA,CACR,OAAO,KAET,IAAM,EAAO,EAAK,IAAlB,CACA,QAAQ,GAAA,CAAI,aAAc,GAC1B,IAAM,EAAe,EAAK,YAA1B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","sources":["<anon>","itemPage.js","general.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js"],"sourcesContent":["// modules are defined as an array\n// [ module function, map of requires ]\n//\n// map of requires is short require name -> numeric require\n//\n// anything defined in a previous bundle is accessed via the\n// orig method which is the require for previous bundles\n\n(function (modules, entry, mainEntry, parcelRequireName, globalName) {\n  /* eslint-disable no-undef */\n  var globalObject =\n    typeof globalThis !== 'undefined'\n      ? globalThis\n      : typeof self !== 'undefined'\n      ? self\n      : typeof window !== 'undefined'\n      ? window\n      : typeof global !== 'undefined'\n      ? global\n      : {};\n  /* eslint-enable no-undef */\n\n  // Save the require from previous bundle to this closure if any\n  var previousRequire =\n    typeof globalObject[parcelRequireName] === 'function' &&\n    globalObject[parcelRequireName];\n\n  var cache = previousRequire.cache || {};\n  // Do not use `require` to prevent Webpack from trying to bundle this call\n  var nodeRequire =\n    typeof module !== 'undefined' &&\n    typeof module.require === 'function' &&\n    module.require.bind(module);\n\n  function newRequire(name, jumped) {\n    if (!cache[name]) {\n      if (!modules[name]) {\n        // if we cannot find the module within our internal map or\n        // cache jump to the current global require ie. the last bundle\n        // that was added to the page.\n        var currentRequire =\n          typeof globalObject[parcelRequireName] === 'function' &&\n          globalObject[parcelRequireName];\n        if (!jumped && currentRequire) {\n          return currentRequire(name, true);\n        }\n\n        // If there are other bundles on this page the require from the\n        // previous one is saved to 'previousRequire'. Repeat this as\n        // many times as there are bundles until the module is found or\n        // we exhaust the require chain.\n        if (previousRequire) {\n          return previousRequire(name, true);\n        }\n\n        // Try the node require function if it exists.\n        if (nodeRequire && typeof name === 'string') {\n          return nodeRequire(name);\n        }\n\n        var err = new Error(\"Cannot find module '\" + name + \"'\");\n        err.code = 'MODULE_NOT_FOUND';\n        throw err;\n      }\n\n      localRequire.resolve = resolve;\n      localRequire.cache = {};\n\n      var module = (cache[name] = new newRequire.Module(name));\n\n      modules[name][0].call(\n        module.exports,\n        localRequire,\n        module,\n        module.exports,\n        this\n      );\n    }\n\n    return cache[name].exports;\n\n    function localRequire(x) {\n      var res = localRequire.resolve(x);\n      return res === false ? {} : newRequire(res);\n    }\n\n    function resolve(x) {\n      var id = modules[name][1][x];\n      return id != null ? id : x;\n    }\n  }\n\n  function Module(moduleName) {\n    this.id = moduleName;\n    this.bundle = newRequire;\n    this.exports = {};\n  }\n\n  newRequire.isParcelRequire = true;\n  newRequire.Module = Module;\n  newRequire.modules = modules;\n  newRequire.cache = cache;\n  newRequire.parent = previousRequire;\n  newRequire.register = function (id, exports) {\n    modules[id] = [\n      function (require, module) {\n        module.exports = exports;\n      },\n      {},\n    ];\n  };\n\n  Object.defineProperty(newRequire, 'root', {\n    get: function () {\n      return globalObject[parcelRequireName];\n    },\n  });\n\n  globalObject[parcelRequireName] = newRequire;\n\n  for (var i = 0; i < entry.length; i++) {\n    newRequire(entry[i]);\n  }\n\n  if (mainEntry) {\n    // Expose entry point to Node, AMD or browser globals\n    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js\n    var mainExports = newRequire(mainEntry);\n\n    // CommonJS\n    if (typeof exports === 'object' && typeof module !== 'undefined') {\n      module.exports = mainExports;\n\n      // RequireJS\n    } else if (typeof define === 'function' && define.amd) {\n      define(function () {\n        return mainExports;\n      });\n\n      // <script>\n    } else if (globalName) {\n      this[globalName] = mainExports;\n    }\n  }\n})({\"8ivRG\":[function(require,module,exports) {\nvar _general = require(\"./general\");\nconst params = getParamsObject();\nif (params.app) {\n    const goBackButtons = document.querySelectorAll(\".goback\");\n    goBackButtons.forEach((button)=>{\n        button.style.visibility = \"hidden\";\n    });\n}\nasync function loadItem(itemId) {\n    const item = await callBackendApi(`/api/items/${itemId}`);\n    if (!item.data) return null;\n    const data = item.data;\n    console.log(\"Item data:\", data);\n    const infoRequests = data.infoRequests;\n    const category = data.category ? data.category : \"\";\n    let statusText = \"\";\n    let publishedDate = data.publishedDate;\n    let daysLeftText = \"\";\n    if (data.publishedDate) {\n        publishedDate = new Date(publishedDate);\n        const nowDate = new Date();\n        const timeDifference = nowDate.getTime() - publishedDate.getTime();\n        const daysDifference = timeDifference / 86400000;\n        const sellingPeriodLength = data.longerPeriodAcceptedDate ? 60 : 30;\n        const daysLeft = Math.max(0, Math.round(sellingPeriodLength - daysDifference));\n        daysLeftText = `${daysLeft} ${daysLeft === 1 ? \"dag\" : \"dagar\"} kvar`;\n    }\n    const min = data.minPriceEstimate;\n    const max = data.maxPriceEstimate;\n    const valuationText = min && max ? `${min}-${max} kr` : \"\";\n    let text1 = \"\";\n    let text2 = \"\";\n    if (data.status === \"New\") {\n        if (infoRequests?.price?.status === \"Active\") {\n            statusText = `Inväntar ditt svar`;\n            text1 = \"P\\xe5 huvudsidan kan du se plaggets v\\xe4rdering och<br>v\\xe4lja om du vill s\\xe4lja till v\\xe4rderingen eller inte.\";\n        } else if (min && max) {\n            statusText = `Förbereds`;\n            text1 = \"F\\xf6rbereder det sista inf\\xf6r publicering.<br>F\\xf6rs\\xe4ljningen p\\xe5b\\xf6rjas inom kort.\";\n            text2 = valuationText;\n        } else {\n            statusText = `Värdering pågår`;\n            text1 = \"Du f\\xe5r ett SMS n\\xe4r v\\xe4rderingen \\xe4r klar.<br>V\\xe4rderingen tar normalt 2 vardagar.\";\n        }\n        editItemLink.style.display = \"block\";\n    }\n    if (data.status === \"Published\" && min && max) {\n        statusText = `Försäljning pågår`;\n        text1 = daysLeftText;\n        text2 = valuationText;\n        if (data.currentPrice) {\n            document.getElementById(\"itemCurrentPrice\").innerText = Math.min(data.userSetCurrentPrice || data.currentPrice, data.currentPrice);\n            document.getElementById(\"itemCurrentPriceDiv\").style.display = \"flex\";\n        }\n        editItemLink.style.display = \"block\";\n        const totalViews = (data.platformListings?.maiShop?.views || 0) + (data.platformListings?.tradera?.views || 0);\n        const totalLikes = (data.platformListings?.maiShop?.likes || 0) + (data.platformListings?.tradera?.likes || 0);\n        if (totalViews > 0 || totalLikes > 0) {\n            viewsCount.innerHTML = totalViews;\n            likesCount.innerHTML = totalLikes;\n            viewsAndLikesDiv.style.display = \"flex\";\n        }\n    }\n    if (data.status === \"Sold\") {\n        const notTrustedSeller = user.current.trustedSellerStatus !== \"Trusted\";\n        statusText = `Såld!`;\n        // Happy case\n        if (notTrustedSeller) text1 = \"Du f\\xe5r betalt 5 dagar efter att k\\xf6paren h\\xe4mtat ut plagget, och ingen reklamation har skett.\";\n        else if (data.payoutStatus !== \"Payed\") text1 = data.payoutType === \"Brand Gift Card\" ? `Ditt presentkort på ${data.cleanedBrand} skapas inom en dag` : data.payoutType === \"Mai Resale Gift Card\" ? \"Dina Mai Shop Credits betalas ut inom en dag\" : \"Utbetalning kommer via Swish inom en dag\";\n        if (data.shippingStatus === \"Not sent\") {\n            toShipItemLink.href = window.location.origin + `/ship-item?id=${itemId}`;\n            toShipItemLink.style.display = \"flex\";\n        } else {\n            console.log(\"data.saleApprovalStatus\", data.saleApprovalStatus);\n            if (notTrustedSeller) {\n                if (!data.saleApprovalStatus || data.saleApprovalStatus === \"Pending\") {\n                    statusText = \"Inv\\xe4ntar godk\\xe4nnande\";\n                    toTrustedSellerArticleLink.style.display = \"flex\";\n                // Return case\n                } else if (data?.reclaim?.status === \"Approved\" && data.refundResponsible === \"Seller\") {\n                    if (data.returnShippingStatus === \"Collected\") {\n                        statusText = \"Returnerat\";\n                        text1 = \"Plagget har returnerats till dig.\";\n                    } else if (data.returnPostnordShipmentId) {\n                        statusText = \"P\\xe5 v\\xe4g tillbaka till dig\";\n                        text1 = \"Plagget reklamerades och \\xe4r nu p\\xe5 v\\xe4g tillbaka till dig\";\n                        toTrackReturnLink.href = `https://tracking.postnord.com/se/tracking?id=${data.returnPostnordShipmentId}`;\n                        toTrackReturnLink.style.display = \"flex\";\n                    }\n                }\n            }\n        }\n        if (statusText.includes(\"S\\xe5ld\")) {\n            sellerGetsTitle.innerHTML = data.payoutStatus === \"Payed\" ? \"Du fick\" : \"Du f\\xe5r\";\n            sellerGetsText.innerHTML = `${data.payoutType === \"Brand Gift Card\" ? data.soldPrice : data.sellerGets} kr`;\n            sellerGetsDiv.style.display = \"flex\";\n            itemStatusText.style.fontSize = \"18px\";\n            itemStatusText.style.fontWeight = \"500\";\n        }\n    }\n    itemBrandText.innerHTML = data.brand;\n    itemCategoryText.innerHTML = category;\n    pageTitleDiv.style.display = \"flex\";\n    coverImageDiv.style.backgroundImage = `url('${(0, _general.itemCoverImage)(data)}')`;\n    itemStatusText.innerHTML = statusText;\n    itemText1.innerHTML = text1;\n    itemText2.innerHTML = text2;\n    itemDiv.style.display = \"block\";\n    loadingDiv.style.display = \"none\";\n    return data;\n}\nasync function loadItemEvents(itemId, item) {\n    itemEventsDiv.innerHTML = \"\";\n    let response = await fetch(`https://europe-west3-second-hand-helper.cloudfunctions.net/itemEvents/${itemId}`, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    const events = await response.json();\n    console.log(events);\n    let itemAddedEventExists = false;\n    if (events) {\n        for(let i = 0; i < events.length; i++){\n            const event = events[i];\n            if (event.type === \"itemAdded\") itemAddedEventExists = true;\n            // Build lists...\n            let style = i === events.length - 1 ? \"highlighted\" : \"\";\n            const component = getEventComponent(event, style, item);\n            if (component) {\n                let content = itemEventsDiv.innerHTML;\n                itemEventsDiv.innerHTML = component.concat(content);\n            }\n        }\n        itemEventsDiv.style.display = \"block\";\n        itemEventsLoadingDiv.style.display = \"none\";\n        // Add event listeners for info icons\n        const infoIcons = itemEventsDiv.querySelectorAll(\".event-info-icon\");\n        infoIcons.forEach((icon)=>{\n            icon.addEventListener(\"click\", (e)=>{\n                e.preventDefault();\n                e.stopPropagation();\n                showEventInfoModal();\n            });\n        });\n        // Add event listeners for price strategy events\n        const priceStrategyEvents = itemEventsDiv.querySelectorAll(\".price-strategy-event\");\n        priceStrategyEvents.forEach((event)=>{\n            event.addEventListener(\"click\", (e)=>{\n                e.preventDefault();\n                e.stopPropagation();\n                showEventInfoModal();\n            });\n        });\n        // Show list if itemAdded exists\n        if (!itemAddedEventExists) sellingProcessDiv.style.display = \"none\";\n    }\n}\nfunction eventComponentHtml(displayLine, icon, className, text, time, displayInfoIcon = false) {\n    const infoIconHtml = displayInfoIcon ? `<img class=\"event-info-icon\" src=\"https://global-uploads.webflow.com/6297d3d527db5dd4cf02e924/64a5c2b2484c893d82cdd2d4_info-icon-grey.svg\" loading=\"lazy\" alt=\"\">` : \"\";\n    return `<div class=\"div-block-135\"><div class=\"div-block-144\"><div class=\"div-block-142\">\n                        <div class=\"div-block-139\" style=\"display: ${displayLine};\"></div>\n                        </div>\n                        <div class=\"div-block-138\">${icon}</div>\n                        </div>\n                    <div class=\"div-block-136\">\n                        <div class=\"item-event-text ${className}\">${text}${displayInfoIcon ? infoIconHtml : \"\"}</div>\n                        <div class=\"text-block-82\">${time}</div>\n                    </div></div>`;\n}\nfunction getEventComponent(event, style, item) {\n    console.log(\"event\", event);\n    let className = \"\";\n    let icon = '<div class=\"div-block-143\"></div>';\n    // Highlighted event styling\n    if (style === \"highlighted\") {\n        className = \"highlighted-event\";\n        icon = '<img src=\"https://global-uploads.webflow.com/6297d3d527db5dd4cf02e924/62c53fa9db6d0f383ee430f9_check-mark%202%20(1).svg\" loading=\"lazy\" width=\"auto\" alt=\"\">';\n    }\n    if (event.type === \"buyerFeedback\") icon = '<img src=\"https://global-uploads.webflow.com/6297d3d527db5dd4cf02e924/67e417040dc69683fcf4b4c5_star-solid-yellow.svg\" loading=\"lazy\" width=\"auto\" alt=\"\">';\n    const displayLine = \"block\";\n    const weekdays = [\n        \"S\\xf6n\",\n        \"M\\xe5n\",\n        \"Tis\",\n        \"Ons\",\n        \"Tor\",\n        \"Fre\",\n        \"L\\xf6r\",\n        \"S\\xf6n\"\n    ];\n    const months = [\n        \"Jan\",\n        \"Feb\",\n        \"Mar\",\n        \"Apr\",\n        \"Maj\",\n        \"Jun\",\n        \"Jul\",\n        \"Aug\",\n        \"Sep\",\n        \"Okt\",\n        \"Nov\",\n        \"Dec\"\n    ];\n    const date = new Date(event.timestamp);\n    const minutes = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes();\n    const hours = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours();\n    let time = weekdays[date.getDay()] + \" \" + hours + \":\" + minutes;\n    let now = new Date();\n    let daysDiff = Math.round((now.getTime() - date.getTime()) / 86400000);\n    if (daysDiff > 6) time = date.getDate() + \" \" + months[date.getMonth()] + \" \" + hours + \":\" + minutes;\n    if (event.type === \"itemAdded\") return eventComponentHtml(\"none\", icon, className, \"Plagg lades upp p\\xe5 Mai\", time);\n    if (event.type === \"valuationCompleted\") return eventComponentHtml(displayLine, icon, className, `Värderades till ${event.data.min}-${event.data.max} kr`, time);\n    if (event.type === \"valuationAccepted\") return eventComponentHtml(displayLine, icon, className, `Du accepterade värderingen`, time);\n    if (event.type === \"valuationFinalOffer\") return eventComponentHtml(displayLine, icon, className, `Omvärderades till ${event.data.min}-${event.data.max} kr`, time);\n    if (event.type === \"itemPublished\") return eventComponentHtml(displayLine, icon, className, `Försäljning påbörjades`, time);\n    if (event.type === \"priceAdjusted\") {\n        const { platform, newPrice } = event.data;\n        let capPlatform = platform && platform.charAt(0).toUpperCase() + platform.slice(1).split(/(?=[A-Z])/).join(\" \");\n        if (item?.status === \"Published\" && capPlatform === \"Mai Shop\" && item?.platformListings?.maiShop?.url) {\n            console.log(\"item price\", item.platformListings.maiShop, newPrice);\n            capPlatform = `<a href=\"${item?.platformListings?.maiShop?.url}\" style=\"text-decoration: underline;\" id=\"maiShopItemEventLink\" target=\"_blank\">${capPlatform}</a>`;\n        }\n        return eventComponentHtml(displayLine, icon, className, `Sänktes till ${newPrice} kr${platform === \"tradera\" ? \" i utropspris\" : \"\"} ${platform && platform !== \"\" ? \" p\\xe5 \" + capPlatform : \"\"}`, time);\n    }\n    if (event.type === \"priceStrategyApplied\") {\n        icon = '<img src=\"https://cdn.prod.website-files.com/6297d3d527db5dd4cf02e924/67e3dc5e1a697a2d9bd399f2_flash.svg\" loading=\"lazy\" width=\"17px\" height=\"17px\" style=\"margin-top: 3px; opacity: 0.86;\" alt=\"\">';\n        const { priceStrategy } = event.data || {};\n        let message = \"\";\n        if (priceStrategy === \"faster\") message = \"Tidig prisjustering\";\n        else if (priceStrategy === \"fastest\") message = \"Snabbare prisjustering aktiverad\";\n        else message = \"Prisstrategi till\\xe4mpades\";\n        const component = eventComponentHtml(displayLine, icon, className, message, time);\n        // Add clickable class and unique ID to the component\n        return component.replace('<div class=\"div-block-135\">', `<div class=\"div-block-135 price-strategy-event\" data-event-id=\"${event.timestamp}\">`);\n    }\n    if (event.type === \"priceRequestSent\") return eventComponentHtml(displayLine, icon, className, `Nytt prisförslag på ${event.data.min}-${event.data.max} kr`, time);\n    if (event.type === \"priceRequestResponse\") {\n        if (event.data.response === \"Accepted\") return eventComponentHtml(displayLine, icon, className, `Du accepterade prisförslaget`, time);\n        else if (event.data.response === \"Denied\") return eventComponentHtml(displayLine, icon, className, `Du avböjde prisförslaget`, time);\n    }\n    if (event.type === \"listingRenewal\") return eventComponentHtml(displayLine, icon, className, `Annonser förnyades`, time);\n    if (event.type === \"platformAdded\") return (event.data.platforms || []).filter((p)=>p !== \"Google Shopping\" && p !== \"Instagram Shop\" && p !== \"Facebook Shop\").map((p)=>{\n        let shopText = p;\n        if (shopText === \"Mai Shop\") {\n            if (item?.status === \"Published\" && item?.platformListings?.maiShop?.url) shopText = `<a href=\"${item?.platformListings?.maiShop?.url}\" style=\"text-decoration: underline;\" id=\"maiShopItemEventLink\" target=\"_blank\">${shopText}</a>`;\n            shopText += \"<br>(Google Shopping, Instagram Shop, Facebook Shop)\";\n        }\n        return eventComponentHtml(displayLine, icon, className, `Publicerades på ${shopText}`, time);\n    }).join(\"\\n\");\n    if (event.type === \"itemSold\") return eventComponentHtml(displayLine, icon, className, `Såld för ${event.data.soldPrice} kr till ${event.data.buyerFirstName} i ${event.data.buyerAddressCity}`, time);\n    if (event.type === \"bagSentToSeller\") return eventComponentHtml(displayLine, icon, className, `Fraktetikett skickades till dig`, time);\n    if (event.type === \"itemSent\") return eventComponentHtml(displayLine, icon, className, `Du skickade plagget`, time);\n    if (event.type === \"payoutCompleted\") return eventComponentHtml(displayLine, icon, className, `Du fick ${event.data.amount} kr utbetalt`, time);\n    if (event.type === \"valuationUserAdjusted\") return eventComponentHtml(displayLine, icon, className, `Du justerade värderingen till ${event.data.min}-${event.data.max} kr`, time);\n    if (event.type === \"itemDelivered\") return eventComponentHtml(displayLine, icon, className, `Levererad till köparens ombud`, time);\n    if (event.type === \"itemCollected\") return eventComponentHtml(displayLine, icon, className, `Upphämtat av köparen`, time);\n    if (event.type === \"saleApproved\") return eventComponentHtml(displayLine, icon, className, `Försäljning godkänd`, time);\n    if (event.type === \"saleDeclined\") return eventComponentHtml(displayLine, icon, className, `Försäljningen godkändes inte`, time);\n    if (event.type === \"buyerFeedback\") return eventComponentHtml(displayLine, icon, className, `Kommentar från köparen:\\n\"${event.data.comment}\"`, time);\n    return false;\n}\nfunction toEditItem() {\n    const params = getParamsObject();\n    location.href = `/edit-item?id=${params.id}`;\n}\neditItemLink.addEventListener(\"click\", toEditItem);\ncoverImageDiv.addEventListener(\"click\", toEditItem);\nitemText2.addEventListener(\"click\", toEditItem);\nitemCurrentPrice.addEventListener(\"click\", toEditItem);\nauthUser.whenSet(async ()=>{\n    const item = await loadItem(params.id);\n    loadItemEvents(params.id, item);\n});\nfunction showEventInfoModal() {\n    const modal = document.querySelector(\".event-info-modal\");\n    if (modal) {\n        modal.style.display = \"flex\";\n        // Close on backdrop click\n        modal.addEventListener(\"click\", (e)=>{\n            if (e.target === modal) closeEventInfoModal();\n        });\n        // Close on close button click\n        const closeBtn = modal.querySelector(\".close-modal-btn\");\n        if (closeBtn) closeBtn.addEventListener(\"click\", closeEventInfoModal);\n    }\n}\nfunction closeEventInfoModal() {\n    const modal = document.querySelector(\".event-info-modal\");\n    if (modal) modal.style.display = \"none\";\n}\n\n},{\"./general\":\"1tOWF\"}],\"1tOWF\":[function(require,module,exports) {\nvar parcelHelpers = require(\"@parcel/transformer-js/src/esmodule-helpers.js\");\nparcelHelpers.defineInteropFlag(exports);\nparcelHelpers.export(exports, \"signOut\", ()=>signOut);\nparcelHelpers.export(exports, \"setFormAddressFields\", ()=>setFormAddressFields);\nparcelHelpers.export(exports, \"getFormAddressFields\", ()=>getFormAddressFields);\n// Validate Swedish Social Security Number (personnummer) using checksum\n//   Note: this is somewhat simplified because it does not take into account\n//   that the date of the number is valid (e.g. \"000000-0000\" does return as true)\nparcelHelpers.export(exports, \"isValidSwedishSsn\", ()=>isValidSwedishSsn);\nparcelHelpers.export(exports, \"formatPersonalId\", ()=>formatPersonalId);\nparcelHelpers.export(exports, \"itemCoverImage\", ()=>itemCoverImage);\nparcelHelpers.export(exports, \"shareCode\", ()=>shareCode);\n// Channel bottom sheet\nparcelHelpers.export(exports, \"channelRouter\", ()=>channelRouter);\nparcelHelpers.export(exports, \"hideChannelBottomSheet\", ()=>hideChannelBottomSheet);\n// End of channel bottom sheet\n// Toast animation functions\nparcelHelpers.export(exports, \"animateOpenToast\", ()=>animateOpenToast);\nparcelHelpers.export(exports, \"animateCloseToast\", ()=>animateCloseToast);\nparcelHelpers.export(exports, \"hideInfoRequestCard\", ()=>hideInfoRequestCard);\nasync function signOut() {\n    try {\n        try {\n            // Delete session cookie\n            await callBackendApi(\"/api/users/session\", {\n                method: \"DELETE\",\n                fetchInit: {\n                    credentials: \"include\"\n                }\n            });\n        } catch (error) {\n            console.warn(\"[SSO] Error clearing session cookie:\", error);\n            errorHandler.report(error);\n        }\n        await firebase.auth().signOut();\n        console.log(\"User signed out\");\n        authUser.current = null;\n        user.current = null;\n        userId = null;\n        localStorage.removeItem(\"sessionUser\");\n        localStorage.removeItem(\"idToken\");\n        localStorage.removeItem(\"authUserId\");\n        localStorage.removeItem(\"authUser\");\n        deleteCookie(\"maiAuth\");\n        location.href = \"/\";\n    } catch (error) {\n        errorHandler.report(error);\n        console.log(error);\n    }\n}\nfunction setFormAddressFields(user1) {\n    document.getElementById(\"addressFirstName\").value = user1.addressFirstName || \"\";\n    document.getElementById(\"addressFirstName\").dispatchEvent(new Event(\"input\"));\n    document.getElementById(\"addressLastName\").value = user1.addressLastName || \"\";\n    document.getElementById(\"addressLastName\").dispatchEvent(new Event(\"input\"));\n    document.getElementById(\"addressStreetAddress\").value = user1.addressStreetAddress || \"\";\n    document.getElementById(\"addressStreetAddress\").dispatchEvent(new Event(\"input\"));\n    document.getElementById(\"addressCO\").value = user1.addressCO || \"\";\n    document.getElementById(\"addressCO\").dispatchEvent(new Event(\"input\"));\n    document.getElementById(\"addressPostalCode\").value = user1.addressPostalCode || \"\";\n    document.getElementById(\"addressPostalCode\").dispatchEvent(new Event(\"input\"));\n    document.getElementById(\"addressCity\").value = user1.addressCity || \"\";\n    document.getElementById(\"addressCity\").dispatchEvent(new Event(\"input\"));\n    document.getElementById(\"addressDoorCode\").value = user1.addressDoorCode || \"\";\n    document.getElementById(\"addressDoorCode\").dispatchEvent(new Event(\"input\"));\n}\nfunction getFormAddressFields() {\n    let addressFirstName = document.getElementById(\"addressFirstName\").value;\n    let addressLastName = document.getElementById(\"addressLastName\").value;\n    let addressStreetAddress = document.getElementById(\"addressStreetAddress\").value;\n    let addressCO = document.getElementById(\"addressCO\").value;\n    let addressPostalCode = document.getElementById(\"addressPostalCode\").value;\n    let addressCity = document.getElementById(\"addressCity\").value;\n    let addressDoorCode = document.getElementById(\"addressDoorCode\").value;\n    addressFirstName = addressFirstName ? addressFirstName.trim().charAt(0).toUpperCase() + addressFirstName.trim().slice(1) : \"\";\n    addressLastName = addressLastName ? addressLastName.trim().charAt(0).toUpperCase() + addressLastName.trim().slice(1) : \"\";\n    addressStreetAddress = addressStreetAddress ? addressStreetAddress.trim().charAt(0).toUpperCase() + addressStreetAddress.trim().slice(1) : \"\";\n    addressCO = addressCO ? addressCO.trim() : \"\";\n    addressPostalCode = addressPostalCode ? addressPostalCode.trim().replace(/\\D/g, \"\") : \"\";\n    addressCity = addressCity ? addressCity.trim().charAt(0).toUpperCase() + addressCity.trim().slice(1) : \"\";\n    addressDoorCode = addressDoorCode ? addressDoorCode.trim() : \"\";\n    return {\n        addressFirstName,\n        addressLastName,\n        addressStreetAddress,\n        addressCO,\n        addressPostalCode,\n        addressCity,\n        addressDoorCode\n    };\n}\nfunction isValidSwedishSsn(ssn) {\n    ssn = ssn.replace(/\\D/g, \"\") // strip out all but digits\n    .split(\"\") // convert string to array\n    .reverse() // reverse order for Luhn\n    .slice(0, 10); // keep only 10 digits (i.e. 1977 becomes 77)\n    // verify we got 10 digits, otherwise it is invalid\n    if (ssn.length !== 10) return false;\n    const sum = ssn.map((n)=>Number(n)).reduce((previous, current, index)=>{\n        if (index % 2) current *= 2;\n        if (current > 9) current -= 9;\n        return previous + current;\n    });\n    return 0 === sum % 10;\n}\nfunction formatPersonalId(personalIdInput) {\n    let personalId = personalIdInput.replace(\"-\", \"\");\n    if (personalId.length !== 12 && (personalId.substring(0, 2) !== \"19\" || personalId.substring(0, 2) !== \"20\")) {\n        if (Number(personalId.substring(0, 2)) <= 99 && Number(personalId.substring(0, 2)) > 25) personalId = \"19\" + personalId;\n        else personalId = \"20\" + personalId;\n    }\n    if (personalId.length === 12) return personalId;\n    return null;\n}\nfunction itemCoverImage(item) {\n    if (item.images) {\n        const images = item.images;\n        return images.modelImageSmall || images.modelImage || images.coverImageSmall || images.coverImage || images.enhancedFrontImageSmall || images.enhancedFrontImage || images.frontImageSmall || images.frontImage;\n    } else if (item.imagesv2) {\n        const priorityOrder = [\n            \"modelImage\",\n            \"enhancedFrontImage\",\n            \"frontImage\"\n        ];\n        for (const name of priorityOrder){\n            const image = item.imagesv2.find((img)=>img.name === name);\n            if (image) {\n                if (image?.versions?.small) return image.versions.small;\n                if (image?.versions?.medium) return image.versions.medium;\n                if (image?.versions?.large) return image.versions.large;\n                if (image.url) return image.url;\n            }\n        }\n    }\n    return null;\n}\nfunction shareCode() {\n    const code = user.current.referralData.referralCode;\n    let text;\n    if (user.current?.maiCircle) text = \"H\\xe4r f\\xe5r du en exklusiv inbjudan till Mai, som ger en extra fin start med tre kommissionsfria f\\xf6rs\\xe4ljningar.\";\n    else text = \"Jag bjuder in dig till Mai f\\xf6r att s\\xe4lja dina kl\\xe4der! G\\xe5 genom min l\\xe4nk f\\xf6r att f\\xe5 en extra kommissionsfri f\\xf6rs\\xe4ljning.\";\n    if (navigator.share) navigator.share({\n        text: text,\n        url: `https://invite.maiapp.se/refer?invite=${code}`\n    }).then(()=>{\n        console.log(\"Thanks for sharing!\");\n    }).catch((e)=>{\n        console.error(e);\n        errorHandler.report(e);\n    });\n    else {\n        console.log(\"Browser doesn't support navigator.share => Copy to clipboard!\");\n        const shareText = text + \"\\n\" + `https://invite.maiapp.se/refer?invite=${code}`;\n        navigator.clipboard.writeText(shareText);\n        linkCopiedBanner.style.display = \"flex\";\n        setTimeout(function() {\n            linkCopiedBanner.style.display = \"none\";\n        }, 1500);\n    }\n}\nfunction channelRouter(webpath) {\n    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n    if (isIOS) showChannelBottomSheet(webpath);\n    else window.location.href = webpath;\n}\nfunction showChannelBottomSheet(webpath) {\n    document.getElementById(\"continueOnWebBottomSheet\").href = window.location.origin + webpath;\n    document.getElementById(\"darkOverlay\").classList.add(\"active\");\n    document.getElementById(\"channelBottomSheet\").classList.add(\"active\");\n}\nfunction hideChannelBottomSheet() {\n    document.getElementById(\"darkOverlay\").classList.remove(\"active\");\n    document.getElementById(\"channelBottomSheet\").classList.remove(\"active\");\n}\nfunction animateOpenToast(elementId) {\n    const element = document.getElementById(elementId);\n    if (element) {\n        // Set initial position below screen\n        element.style.transform = \"translateY(100%)\";\n        element.style.transition = \"transform 0.3s ease-out\";\n        element.style.display = \"block\";\n        // Animate to visible position\n        setTimeout(()=>{\n            element.style.transform = \"translateY(0%)\";\n        }, 10);\n        document.getElementById(\"darkOverlay\").classList.add(\"active\");\n    }\n}\nfunction animateCloseToast(elementId) {\n    const element = document.getElementById(elementId);\n    // Add the visibility check here\n    if (!element || element.style.display === \"none\") return;\n    // Animate down and hide\n    element.style.transform = \"translateY(100%)\";\n    element.style.transition = \"transform 0.3s ease-in\";\n    // Hide after animation completes\n    setTimeout(()=>{\n        element.style.display = \"none\";\n    }, 300);\n    document.getElementById(\"darkOverlay\").classList.remove(\"active\");\n}\nfunction hideInfoRequestCard(elementId) {\n    const bidRequestElement = document.getElementById(elementId);\n    if (bidRequestElement) {\n        bidRequestElement.style.display = \"none\";\n        // Check if there are any remaining visible cards\n        const infoRequestsList = document.getElementById(\"infoRequestsList\");\n        if (infoRequestsList) {\n            const visibleCards = infoRequestsList.querySelectorAll('[id^=\"infoRequest\"]:not([style*=\"display: none\"])');\n            if (visibleCards.length === 0) {\n                const infoRequestsDiv = document.getElementById(\"infoRequestsDiv\");\n                if (infoRequestsDiv) infoRequestsDiv.style.display = \"none\";\n            }\n        }\n    }\n}\n\n},{\"@parcel/transformer-js/src/esmodule-helpers.js\":\"bNgzC\"}],\"bNgzC\":[function(require,module,exports) {\nexports.interopDefault = function(a) {\n    return a && a.__esModule ? a : {\n        default: a\n    };\n};\nexports.defineInteropFlag = function(a) {\n    Object.defineProperty(a, \"__esModule\", {\n        value: true\n    });\n};\nexports.exportAll = function(source, dest) {\n    Object.keys(source).forEach(function(key) {\n        if (key === \"default\" || key === \"__esModule\" || dest.hasOwnProperty(key)) return;\n        Object.defineProperty(dest, key, {\n            enumerable: true,\n            get: function() {\n                return source[key];\n            }\n        });\n    });\n    return dest;\n};\nexports.export = function(dest, destName, get) {\n    Object.defineProperty(dest, destName, {\n        enumerable: true,\n        get: get\n    });\n};\n\n},{}]},[\"8ivRG\"], \"8ivRG\", \"parcelRequire81ca\")\n\n//# sourceMappingURL=itemPage.js.map\n","import {itemCoverImage} from \"./general\";\n\nconst params = getParamsObject();\nif (params.app) {\n  const goBackButtons = document.querySelectorAll('.goback');\n  goBackButtons.forEach(button => {\n    button.style.visibility = 'hidden';\n  });\n}\n\nasync function loadItem(itemId) {\n  const item = await callBackendApi(`/api/items/${itemId}`);\n  if (!item.data) { \n    return null;\n  }\n  const data = item.data;\n  console.log(\"Item data:\", data);\n  const infoRequests = data.infoRequests;\n  const category = data.category ? data.category : \"\";\n  let statusText = \"\"\n  let publishedDate = data.publishedDate;\n  let daysLeftText = \"\";\n  if (data.publishedDate) {\n    publishedDate = new Date(publishedDate);\n    const nowDate = new Date();\n    const timeDifference = nowDate.getTime() - publishedDate.getTime();\n    const daysDifference = timeDifference / (1000 * 3600 * 24);\n    const sellingPeriodLength = data.longerPeriodAcceptedDate ? 60 : 30;\n    const daysLeft = Math.max(0, Math.round(sellingPeriodLength - daysDifference));\n    daysLeftText = `${daysLeft} ${daysLeft === 1 ? 'dag' : 'dagar'} kvar`;\n  }\n  const min = data.minPriceEstimate;\n  const max = data.maxPriceEstimate;\n  const valuationText = min && max ? `${min}-${max} kr` : \"\";\n  let text1 = \"\";\n  let text2 = \"\";\n\n  if (data.status === \"New\") {\n    if (infoRequests?.price?.status === \"Active\") {\n      statusText = `Inväntar ditt svar`;\n      text1 = \"På huvudsidan kan du se plaggets värdering och<br>välja om du vill sälja till värderingen eller inte.\";\n    } else if (min && max) {\n      statusText = `Förbereds`;\n      text1 = \"Förbereder det sista inför publicering.<br>Försäljningen påbörjas inom kort.\";\n      text2 = valuationText;\n    } else {\n      statusText = `Värdering pågår`;\n      text1 = \"Du får ett SMS när värderingen är klar.<br>Värderingen tar normalt 2 vardagar.\";\n    }\n    editItemLink.style.display = 'block';\n  }\n  if (data.status === \"Published\" && min && max) {\n    statusText = `Försäljning pågår`;\n    text1 = daysLeftText;\n    text2 = valuationText;\n    if (data.currentPrice) {\n      document.getElementById('itemCurrentPrice').innerText = Math.min(data.userSetCurrentPrice || data.currentPrice, data.currentPrice);\n      document.getElementById('itemCurrentPriceDiv').style.display = 'flex';\n    }\n    editItemLink.style.display = 'block';\n\n    const totalViews = (data.platformListings?.maiShop?.views || 0) + (data.platformListings?.tradera?.views || 0);\n    const totalLikes = (data.platformListings?.maiShop?.likes || 0) + (data.platformListings?.tradera?.likes || 0);\n    if (totalViews > 0 || totalLikes > 0) {\n      viewsCount.innerHTML = totalViews;\n      likesCount.innerHTML = totalLikes;\n      viewsAndLikesDiv.style.display = 'flex';\n    }\n  }\n  if (data.status === \"Sold\") {\n    const notTrustedSeller = user.current.trustedSellerStatus !== 'Trusted';\n    statusText = `Såld!`;\n\n    // Happy case\n    if (notTrustedSeller) {\n      text1 = \"Du får betalt 5 dagar efter att köparen hämtat ut plagget, och ingen reklamation har skett.\"\n    } else if (data.payoutStatus !== \"Payed\") {\n      text1 = data.payoutType === 'Brand Gift Card'\n        ? `Ditt presentkort på ${data.cleanedBrand} skapas inom en dag`\n        : (data.payoutType === 'Mai Resale Gift Card'\n            ? \"Dina Mai Shop Credits betalas ut inom en dag\"\n            : \"Utbetalning kommer via Swish inom en dag\"\n          );\n    }\n\n    if (data.shippingStatus === \"Not sent\") {\n      toShipItemLink.href = window.location.origin + `/ship-item?id=${itemId}`;\n      toShipItemLink.style.display = \"flex\";\n    } else {\n      console.log('data.saleApprovalStatus', data.saleApprovalStatus);\n      if (notTrustedSeller) {\n        if (!data.saleApprovalStatus || data.saleApprovalStatus === 'Pending') {\n          statusText = 'Inväntar godkännande';\n          toTrustedSellerArticleLink.style.display = \"flex\";\n        // Return case\n        } else if (data?.reclaim?.status === 'Approved' && data.refundResponsible === 'Seller') {\n          if (data.returnShippingStatus === 'Collected') {\n            statusText = 'Returnerat';\n            text1 = 'Plagget har returnerats till dig.';\n          } else if (data.returnPostnordShipmentId) {\n            statusText = 'På väg tillbaka till dig';\n            text1 = 'Plagget reklamerades och är nu på väg tillbaka till dig';\n            toTrackReturnLink.href = `https://tracking.postnord.com/se/tracking?id=${data.returnPostnordShipmentId}`;\n            toTrackReturnLink.style.display = \"flex\";\n          }\n        }\n      }\n    }\n\n    if (statusText.includes('Såld')){\n      sellerGetsTitle.innerHTML = data.payoutStatus === \"Payed\" ? \"Du fick\" : \"Du får\";\n      sellerGetsText.innerHTML = `${data.payoutType === 'Brand Gift Card' ? data.soldPrice : data.sellerGets} kr`\n      sellerGetsDiv.style.display = \"flex\";\n      itemStatusText.style.fontSize = \"18px\";\n      itemStatusText.style.fontWeight = \"500\";\n    }\n  }\n\n  itemBrandText.innerHTML = data.brand;\n  itemCategoryText.innerHTML = category;\n  pageTitleDiv.style.display = \"flex\";\n  coverImageDiv.style.backgroundImage = `url('${(itemCoverImage(data))}')`;\n  itemStatusText.innerHTML = statusText;\n  itemText1.innerHTML = text1;\n  itemText2.innerHTML = text2;\n\n  itemDiv.style.display = \"block\";\n  loadingDiv.style.display = \"none\";\n  return data;\n}\n\nasync function loadItemEvents(itemId, item) {\n    itemEventsDiv.innerHTML = '';\n    let response = await fetch(`https://europe-west3-second-hand-helper.cloudfunctions.net/itemEvents/${itemId}`, {\n        method: 'GET',\n        headers: {'Content-Type': 'application/json'},\n    });\n    const events = await response.json();\n    console.log(events);\n    let itemAddedEventExists = false;\n\n    if (events) {\n        for (let i = 0; i < events.length; i++) {\n            const event = events[i];\n            if (event.type === 'itemAdded') {\n                itemAddedEventExists = true;\n            }\n\n            // Build lists...\n            let style = i === events.length - 1 ? 'highlighted' : '';\n            const component = getEventComponent(event, style, item);\n            if (component) {\n                let content = itemEventsDiv.innerHTML;\n                itemEventsDiv.innerHTML = component.concat(content);\n            }\n        }\n        itemEventsDiv.style.display = 'block';\n        itemEventsLoadingDiv.style.display = 'none';\n\n        // Add event listeners for info icons\n        const infoIcons = itemEventsDiv.querySelectorAll('.event-info-icon');\n        infoIcons.forEach(icon => {\n            icon.addEventListener('click', (e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                showEventInfoModal();\n            });\n        });\n\n        // Add event listeners for price strategy events\n        const priceStrategyEvents = itemEventsDiv.querySelectorAll('.price-strategy-event');\n        priceStrategyEvents.forEach(event => {\n            event.addEventListener('click', (e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                showEventInfoModal();\n            });\n        });\n\n        // Show list if itemAdded exists\n        if (!itemAddedEventExists) {\n            sellingProcessDiv.style.display = 'none';\n        }\n    }\n}\n\nfunction eventComponentHtml(displayLine, icon, className, text, time, displayInfoIcon = false) {\n    const infoIconHtml = displayInfoIcon ? \n        `<img class=\"event-info-icon\" src=\"https://global-uploads.webflow.com/6297d3d527db5dd4cf02e924/64a5c2b2484c893d82cdd2d4_info-icon-grey.svg\" loading=\"lazy\" alt=\"\">` : '';\n    \n    return `<div class=\"div-block-135\"><div class=\"div-block-144\"><div class=\"div-block-142\">\n                        <div class=\"div-block-139\" style=\"display: ${displayLine};\"></div>\n                        </div>\n                        <div class=\"div-block-138\">${icon}</div>\n                        </div>\n                    <div class=\"div-block-136\">\n                        <div class=\"item-event-text ${className}\">${text}${displayInfoIcon ? infoIconHtml : ''}</div>\n                        <div class=\"text-block-82\">${time}</div>\n                    </div></div>`;\n}\n\nfunction getEventComponent(event, style, item) {\n    console.log('event', event);\n    let className = '';\n    let icon = '<div class=\"div-block-143\"></div>';\n    // Highlighted event styling\n    if (style === 'highlighted') {\n        className = 'highlighted-event';\n        icon = '<img src=\"https://global-uploads.webflow.com/6297d3d527db5dd4cf02e924/62c53fa9db6d0f383ee430f9_check-mark%202%20(1).svg\" loading=\"lazy\" width=\"auto\" alt=\"\">';\n    }\n    if (event.type === 'buyerFeedback') {\n        icon = '<img src=\"https://global-uploads.webflow.com/6297d3d527db5dd4cf02e924/67e417040dc69683fcf4b4c5_star-solid-yellow.svg\" loading=\"lazy\" width=\"auto\" alt=\"\">';\n    }\n    const displayLine = 'block';\n    const weekdays = ['Sön', 'Mån', 'Tis', 'Ons', 'Tor', 'Fre', 'Lör', 'Sön']\n    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'Maj', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dec']\n    const date = new Date(event.timestamp);\n    const minutes = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\n    const hours = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\n    let time = weekdays[date.getDay()] + \" \" + hours + \":\" + minutes;\n    let now = new Date();\n    let daysDiff = Math.round((now.getTime() - date.getTime()) / (1000 * 3600 * 24));\n    if (daysDiff > 6) {\n        time = date.getDate() + \" \" + months[date.getMonth()] + \" \" + hours + \":\" + minutes;\n    }\n\n    if (event.type === 'itemAdded') {\n        return eventComponentHtml('none', icon, className, 'Plagg lades upp på Mai', time);\n    }\n    if (event.type === 'valuationCompleted') {\n        return eventComponentHtml(displayLine, icon, className, `Värderades till ${event.data.min}-${event.data.max} kr`, time);\n    }\n    if (event.type === 'valuationAccepted') {\n        return eventComponentHtml(displayLine, icon, className, `Du accepterade värderingen`, time);\n    }\n    if (event.type === 'valuationFinalOffer') {\n        return eventComponentHtml(displayLine, icon, className, `Omvärderades till ${event.data.min}-${event.data.max} kr`, time);\n    }\n    if (event.type === 'itemPublished') {\n        return eventComponentHtml(displayLine, icon, className, `Försäljning påbörjades`, time);\n    }\n    if (event.type === 'priceAdjusted') {\n        const {platform, newPrice} = event.data;\n        let capPlatform = platform && platform.charAt(0).toUpperCase() + platform.slice(1).split(/(?=[A-Z])/).join(' ');\n        if (item?.status === 'Published' && capPlatform === 'Mai Shop' && item?.platformListings?.maiShop?.url) {\n          console.log('item price', item.platformListings.maiShop, newPrice)\n          capPlatform = `<a href=\"${item?.platformListings?.maiShop?.url}\" style=\"text-decoration: underline;\" id=\"maiShopItemEventLink\" target=\"_blank\">${capPlatform}</a>`\n        }\n        return eventComponentHtml(displayLine, icon, className,\n            `Sänktes till ${newPrice} kr${platform === 'tradera' ? ' i utropspris' : ''} ${platform && platform !== '' ? ' på ' + capPlatform : ''}`,\n            time);\n    }\n    if (event.type === 'priceStrategyApplied') {\n        icon = '<img src=\"https://cdn.prod.website-files.com/6297d3d527db5dd4cf02e924/67e3dc5e1a697a2d9bd399f2_flash.svg\" loading=\"lazy\" width=\"17px\" height=\"17px\" style=\"margin-top: 3px; opacity: 0.86;\" alt=\"\">';\n        const {priceStrategy} = event.data || {};\n        let message = '';\n        if (priceStrategy === 'faster') {\n            message = 'Tidig prisjustering';\n        } else if (priceStrategy === 'fastest') {\n            message = 'Snabbare prisjustering aktiverad';\n        } else {\n            message = 'Prisstrategi tillämpades';\n        }\n        const component = eventComponentHtml(displayLine, icon, className, message, time);\n        // Add clickable class and unique ID to the component\n        return component.replace('<div class=\"div-block-135\">', `<div class=\"div-block-135 price-strategy-event\" data-event-id=\"${event.timestamp}\">`);\n    }\n    if (event.type === 'priceRequestSent') {\n        return eventComponentHtml(displayLine, icon, className, `Nytt prisförslag på ${event.data.min}-${event.data.max} kr`, time);\n    }\n    if (event.type === 'priceRequestResponse') {\n        if (event.data.response === 'Accepted') {\n            return eventComponentHtml(displayLine, icon, className, `Du accepterade prisförslaget`, time);\n        } else if (event.data.response === 'Denied') {\n            return eventComponentHtml(displayLine, icon, className, `Du avböjde prisförslaget`, time);\n        }\n    }\n    if (event.type === 'listingRenewal') {\n        return eventComponentHtml(displayLine, icon, className, `Annonser förnyades`, time);\n    }\n    if (event.type === 'platformAdded') {\n        return (event.data.platforms || [])\n            .filter(p => p !== 'Google Shopping' && p !== 'Instagram Shop' && p !== 'Facebook Shop')\n            .map(p => {\n              let shopText = p;\n              if (shopText === 'Mai Shop') {\n                if (item?.status === 'Published' && item?.platformListings?.maiShop?.url) {\n                  shopText = `<a href=\"${item?.platformListings?.maiShop?.url}\" style=\"text-decoration: underline;\" id=\"maiShopItemEventLink\" target=\"_blank\">${shopText}</a>`\n                }\n                shopText += '<br>(Google Shopping, Instagram Shop, Facebook Shop)'\n              }\n              return eventComponentHtml(displayLine, icon, className, `Publicerades på ${shopText}`, time);\n            })\n            .join('\\n');\n    }\n    if (event.type === 'itemSold') {\n        return eventComponentHtml(displayLine, icon, className,\n            `Såld för ${event.data.soldPrice} kr till ${event.data.buyerFirstName} i ${event.data.buyerAddressCity}`,\n            time);\n    }\n    if (event.type === 'bagSentToSeller') {\n        return eventComponentHtml(displayLine, icon, className, `Fraktetikett skickades till dig`, time);\n    }\n    if (event.type === 'itemSent') {\n        return eventComponentHtml(displayLine, icon, className, `Du skickade plagget`, time);\n    }\n    if (event.type === 'payoutCompleted') {\n        return eventComponentHtml(displayLine, icon, className, `Du fick ${event.data.amount} kr utbetalt`, time);\n    }\n    if (event.type === 'valuationUserAdjusted') {\n        return eventComponentHtml(displayLine, icon, className, `Du justerade värderingen till ${event.data.min}-${event.data.max} kr`, time);\n    }\n    if (event.type === 'itemDelivered') {\n        return eventComponentHtml(displayLine, icon, className, `Levererad till köparens ombud`, time);\n    }\n    if (event.type === 'itemCollected') {\n        return eventComponentHtml(displayLine, icon, className, `Upphämtat av köparen`, time);\n    }\n    if (event.type === 'saleApproved') {\n      return eventComponentHtml(displayLine, icon, className, `Försäljning godkänd`, time);\n    }\n    if (event.type === 'saleDeclined') {\n      return eventComponentHtml(displayLine, icon, className, `Försäljningen godkändes inte`, time);\n    }\n    if (event.type === 'buyerFeedback') {\n      return eventComponentHtml(displayLine, icon, className, `Kommentar från köparen:\\n\"${event.data.comment}\"`, time);\n    }\n    return false;\n}\n\nfunction toEditItem () {\n  const params = getParamsObject();\n  location.href = `/edit-item?id=${params.id}`;\n}\n\neditItemLink.addEventListener('click', toEditItem);\ncoverImageDiv.addEventListener('click', toEditItem);\nitemText2.addEventListener('click', toEditItem);\nitemCurrentPrice.addEventListener('click', toEditItem);\n\nauthUser.whenSet(async () => {\n  const item = await loadItem(params.id);\n  loadItemEvents(params.id, item);\n});\n\nfunction showEventInfoModal() {\n    const modal = document.querySelector('.event-info-modal');\n    if (modal) {\n        modal.style.display = 'flex';\n        \n        // Close on backdrop click\n        modal.addEventListener('click', (e) => {\n            if (e.target === modal) {\n                closeEventInfoModal();\n            }\n        });\n        \n        // Close on close button click\n        const closeBtn = modal.querySelector('.close-modal-btn');\n        if (closeBtn) {\n            closeBtn.addEventListener('click', closeEventInfoModal);\n        }\n    }\n}\n\nfunction closeEventInfoModal() {\n    const modal = document.querySelector('.event-info-modal');\n    if (modal) {\n        modal.style.display = 'none';\n    }\n}\n","export async function signOut() {\n    try {\n        try {\n          // Delete session cookie\n          await callBackendApi('/api/users/session', {\n            method: \"DELETE\",\n            fetchInit: { credentials: \"include\" },\n          });\n        } catch (error) {\n          console.warn(\"[SSO] Error clearing session cookie:\", error);\n          errorHandler.report(error);\n        }\n        await firebase.auth().signOut();\n        console.log('User signed out');\n        authUser.current = null;\n        user.current = null;\n        userId = null;\n        localStorage.removeItem('sessionUser');\n        localStorage.removeItem('idToken');\n        localStorage.removeItem('authUserId');\n        localStorage.removeItem('authUser');\n        deleteCookie('maiAuth');\n\n\n        location.href = '/';\n    } catch (error) {\n        errorHandler.report(error);\n        console.log(error);\n    }\n}\n\nexport function setFormAddressFields(user) {\n    document.getElementById(\"addressFirstName\").value = user.addressFirstName || '';\n    document.getElementById(\"addressFirstName\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressLastName\").value = user.addressLastName || '';\n    document.getElementById(\"addressLastName\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressStreetAddress\").value = user.addressStreetAddress || '';\n    document.getElementById(\"addressStreetAddress\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressCO\").value = user.addressCO || '';\n    document.getElementById(\"addressCO\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressPostalCode\").value = user.addressPostalCode || '';\n    document.getElementById(\"addressPostalCode\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressCity\").value = user.addressCity || '';\n    document.getElementById(\"addressCity\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressDoorCode\").value = user.addressDoorCode || '';\n    document.getElementById(\"addressDoorCode\").dispatchEvent(new Event('input'));\n}\nexport function getFormAddressFields() {\n    let addressFirstName = document.getElementById(\"addressFirstName\").value;\n    let addressLastName = document.getElementById(\"addressLastName\").value;\n    let addressStreetAddress = document.getElementById(\"addressStreetAddress\").value;\n    let addressCO = document.getElementById(\"addressCO\").value;\n    let addressPostalCode = document.getElementById(\"addressPostalCode\").value;\n    let addressCity = document.getElementById(\"addressCity\").value;\n    let addressDoorCode = document.getElementById(\"addressDoorCode\").value;\n\n    addressFirstName = addressFirstName ? addressFirstName.trim().charAt(0).toUpperCase() + addressFirstName.trim().slice(1) : \"\";\n    addressLastName = addressLastName ? addressLastName.trim().charAt(0).toUpperCase() + addressLastName.trim().slice(1) : \"\";\n    addressStreetAddress = addressStreetAddress ? addressStreetAddress.trim().charAt(0).toUpperCase() + addressStreetAddress.trim().slice(1) : \"\";\n    addressCO = addressCO ? addressCO.trim() : \"\";\n    addressPostalCode = addressPostalCode ? addressPostalCode.trim().replace(/\\D/g, '') : \"\";\n    addressCity = addressCity ? addressCity.trim().charAt(0).toUpperCase() + addressCity.trim().slice(1) : \"\";\n    addressDoorCode = addressDoorCode ? addressDoorCode.trim() : \"\";\n    return { addressFirstName, addressLastName, addressStreetAddress, addressCO, addressPostalCode, addressCity, addressDoorCode };\n}\n\n\n// Validate Swedish Social Security Number (personnummer) using checksum\n//   Note: this is somewhat simplified because it does not take into account\n//   that the date of the number is valid (e.g. \"000000-0000\" does return as true)\nexport function isValidSwedishSsn(ssn) {\n    ssn = ssn\n        .replace(/\\D/g, \"\")     // strip out all but digits\n        .split(\"\")              // convert string to array\n        .reverse()              // reverse order for Luhn\n        .slice(0, 10);          // keep only 10 digits (i.e. 1977 becomes 77)\n\n    // verify we got 10 digits, otherwise it is invalid\n    if (ssn.length !== 10) {\n        return false;\n    }\n    const sum = ssn.map((n) => Number(n))\n        .reduce((previous, current, index) => {\n            if (index % 2) current *= 2;\n            if (current > 9) current -= 9;\n            return previous + current;\n        });\n    return 0 === sum % 10;\n}\n\n\nexport function formatPersonalId(personalIdInput) {\n    let personalId = personalIdInput.replace('-', '');\n    if (personalId.length !== 12 && (personalId.substring(0, 2) !== '19' || personalId.substring(0, 2) !== '20')) {\n        if (Number(personalId.substring(0, 2)) <= 99 && Number(personalId.substring(0, 2)) > 25) {\n            personalId = \"19\" + personalId;\n        } else {\n            personalId = \"20\" + personalId;\n        }\n    }\n    if (personalId.length === 12) {\n        return personalId;\n    }\n    return null;\n}\n\nexport function itemCoverImage(item) {\n  if (item.images) {\n    const images = item.images;\n    return images.modelImageSmall || images.modelImage || images.coverImageSmall || images.coverImage || images.enhancedFrontImageSmall || images.enhancedFrontImage || images.frontImageSmall || images.frontImage;\n  } else if (item.imagesv2) {\n    const priorityOrder = ['modelImage', 'enhancedFrontImage', 'frontImage'];\n    for (const name of priorityOrder) {\n      const image = item.imagesv2.find(img => img.name === name);\n      if (image) {\n        if (image?.versions?.small) return image.versions.small;\n        if (image?.versions?.medium) return image.versions.medium;\n        if (image?.versions?.large) return image.versions.large;\n        if (image.url) return image.url;\n      }\n    }\n  }\n  return null;\n}\n\nexport function shareCode() {\n    const code = user.current.referralData.referralCode;\n    let text;\n    if (user.current?.maiCircle) {\n        text = \"Här får du en exklusiv inbjudan till Mai, som ger en extra fin start med tre kommissionsfria försäljningar.\";\n    } else {\n        text = \"Jag bjuder in dig till Mai för att sälja dina kläder! Gå genom min länk för att få en extra kommissionsfri försäljning.\";\n    }\n    if (navigator.share) {\n        navigator.share({\n            text: text,\n            url: `https://invite.maiapp.se/refer?invite=${code}`\n        }).then(() => { console.log('Thanks for sharing!'); }).catch((e) => {\n            console.error(e);\n            errorHandler.report(e);\n        });\n    } else {\n        console.log(\"Browser doesn't support navigator.share => Copy to clipboard!\");\n        const shareText = text + \"\\n\" + `https://invite.maiapp.se/refer?invite=${code}`;\n        navigator.clipboard.writeText(shareText);\n        linkCopiedBanner.style.display = 'flex';\n        setTimeout(function () { linkCopiedBanner.style.display = 'none'; }, 1500);\n    }\n}\n\n// Channel bottom sheet\nexport function channelRouter(webpath){\n  const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n  if (isIOS) {\n    showChannelBottomSheet(webpath)\n  } else {\n    window.location.href = webpath;\n  }\n}\n\nfunction showChannelBottomSheet(webpath){\n  document.getElementById('continueOnWebBottomSheet').href = window.location.origin + webpath;\n  document.getElementById('darkOverlay').classList.add('active');\n  document.getElementById('channelBottomSheet').classList.add('active');\n}\n\nexport function hideChannelBottomSheet(){\n  document.getElementById('darkOverlay').classList.remove('active');\n  document.getElementById('channelBottomSheet').classList.remove('active');\n}\n// End of channel bottom sheet\n\n// Toast animation functions\nexport function animateOpenToast(elementId) {\n  const element = document.getElementById(elementId);\n  if (element) {\n    // Set initial position below screen\n    element.style.transform = 'translateY(100%)';\n    element.style.transition = 'transform 0.3s ease-out';\n    element.style.display = 'block';\n\n    // Animate to visible position\n    setTimeout(() => {\n      element.style.transform = 'translateY(0%)';\n    }, 10);\n    document.getElementById(\"darkOverlay\").classList.add(\"active\");\n  }\n}\n\nexport function animateCloseToast(elementId) {\n  const element = document.getElementById(elementId);\n\n  // Add the visibility check here\n  if (!element || element.style.display === 'none') {\n    return;\n  }\n\n  // Animate down and hide\n  element.style.transform = 'translateY(100%)';\n  element.style.transition = 'transform 0.3s ease-in';\n\n  // Hide after animation completes\n  setTimeout(() => {\n    element.style.display = 'none';\n  }, 300);\n\n  document.getElementById(\"darkOverlay\").classList.remove(\"active\");\n}\n\nexport function hideInfoRequestCard(elementId) {\n  const bidRequestElement = document.getElementById(elementId);\n  if (bidRequestElement) {\n    bidRequestElement.style.display = 'none';\n\n    // Check if there are any remaining visible cards\n    const infoRequestsList = document.getElementById('infoRequestsList');\n    if (infoRequestsList) {\n      const visibleCards = infoRequestsList.querySelectorAll('[id^=\"infoRequest\"]:not([style*=\"display: none\"])');\n      if (visibleCards.length === 0) {\n        const infoRequestsDiv = document.getElementById('infoRequestsDiv');\n        if (infoRequestsDiv) {\n          infoRequestsDiv.style.display = 'none';\n        }\n      }\n    }\n  }\n}\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n"],"names":["modules","entry","mainEntry","parcelRequireName","globalName","globalObject","globalThis","self","window","global","previousRequire","cache","nodeRequire","module","require","bind","newRequire","name","jumped","currentRequire","err","Error","code","localRequire","resolve","x","id","Module","call","exports","res","isParcelRequire","moduleName","bundle","parent","register","Object","defineProperty","get","i","length","mainExports","define","amd","_general","params","getParamsObject","app","goBackButtons","document","querySelectorAll","forEach","button","style","visibility","loadItem","itemId","item","callBackendApi","data","console","log","infoRequests","category","statusText","publishedDate","daysLeftText","Date","nowDate","timeDifference","getTime","sellingPeriodLength","longerPeriodAcceptedDate","daysLeft","Math","max","round","min","minPriceEstimate","maxPriceEstimate","valuationText","text1","text2","status","price","editItemLink","display","currentPrice","getElementById","innerText","userSetCurrentPrice","totalViews","platformListings","maiShop","views","tradera","totalLikes","likes","viewsCount","innerHTML","likesCount","viewsAndLikesDiv","notTrustedSeller","user","current","trustedSellerStatus","payoutStatus","payoutType","cleanedBrand","shippingStatus","toShipItemLink","href","location","origin","saleApprovalStatus","reclaim","refundResponsible","returnShippingStatus","returnPostnordShipmentId","toTrackReturnLink","toTrustedSellerArticleLink","includes","sellerGetsTitle","sellerGetsText","soldPrice","sellerGets","sellerGetsDiv","itemStatusText","fontSize","fontWeight","itemBrandText","brand","itemCategoryText","pageTitleDiv","coverImageDiv","backgroundImage","itemCoverImage","itemText1","itemText2","itemDiv","loadingDiv","loadItemEvents","itemEventsDiv","response","fetch","method","headers","events","json","itemAddedEventExists","event","type","component","getEventComponent","className","icon","displayLine","date","timestamp","minutes","getMinutes","hours","getHours","time","weekdays","getDay","now","getDate","months","getMonth","eventComponentHtml","platform","newPrice","capPlatform","charAt","toUpperCase","slice","split","join","url","priceStrategy","message","replace","platforms","filter","p","map","shopText","buyerFirstName","buyerAddressCity","amount","comment","content","concat","itemEventsLoadingDiv","infoIcons","addEventListener","e","preventDefault","stopPropagation","showEventInfoModal","priceStrategyEvents","sellingProcessDiv","text","displayInfoIcon","toEditItem","modal","querySelector","target","closeEventInfoModal","closeBtn","itemCurrentPrice","authUser","whenSet","parcelHelpers","signOut","fetchInit","credentials","error","warn","errorHandler","report","firebase","auth","userId","localStorage","removeItem","deleteCookie","setFormAddressFields","user1","value","addressFirstName","dispatchEvent","Event","addressLastName","addressStreetAddress","addressCO","addressPostalCode","addressCity","addressDoorCode","getFormAddressFields","trim","isValidSwedishSsn","ssn","reverse","sum","n","Number","reduce","previous","index","formatPersonalId","personalIdInput","personalId","substring","images","modelImageSmall","modelImage","coverImageSmall","coverImage","enhancedFrontImageSmall","enhancedFrontImage","frontImageSmall","frontImage","imagesv2","image","find","img","versions","small","medium","large","shareCode","referralData","referralCode","maiCircle","navigator","share","then","catch","shareText","clipboard","writeText","linkCopiedBanner","setTimeout","channelRouter","webpath","isIOS","test","userAgent","MSStream","classList","add","hideChannelBottomSheet","remove","animateOpenToast","elementId","element","transform","transition","animateCloseToast","hideInfoRequestCard","bidRequestElement","infoRequestsList","visibleCards","infoRequestsDiv","defineInteropFlag","export","interopDefault","a","__esModule","default","exportAll","source","dest","keys","key","hasOwnProperty","enumerable","destName"],"version":3,"file":"itemPage.js.map"}