!// modules are defined as an array
// [ module function, map of requires ]
//
// map of requires is short require name -> numeric require
//
// anything defined in a previous bundle is accessed via the
// orig method which is the require for previous bundles
function(t,n,r,o,i){/* eslint-disable no-undef */var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof a[o]&&a[o],d=s.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(n,r){if(!d[n]){if(!t[n]){// if we cannot find the module within our internal map or
// cache jump to the current global require ie. the last bundle
// that was added to the page.
var i="function"==typeof a[o]&&a[o];if(!r&&i)return i(n,!0);// If there are other bundles on this page the require from the
// previous one is saved to 'previousRequire'. Repeat this as
// many times as there are bundles until the module is found or
// we exhaust the require chain.
if(s)return s(n,!0);// Try the node require function if it exists.
if(l&&"string"==typeof n)return l(n);var m=Error("Cannot find module '"+n+"'");throw m.code="MODULE_NOT_FOUND",m}g.resolve=function(r){var o=t[n][1][r];return null!=o?o:r},g.cache={};var u=d[n]=new c.Module(n);t[n][0].call(u.exports,g,u,u.exports,this)}return d[n].exports;function g(t){var n=g.resolve(t);return!1===n?{}:c(n)}}c.isParcelRequire=!0,c.Module=function(t){this.id=t,this.bundle=c,this.exports={}},c.modules=t,c.cache=d,c.parent=s,c.register=function(n,r){t[n]=[function(t,n){n.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return a[o]}}),a[o]=c;for(var m=0;m<n.length;m++)c(n[m]);if(r){// Expose entry point to Node, AMD or browser globals
// Based on https://github.com/ForbesLindesay/umd/blob/master/template.js
var u=c(r);// CommonJS
"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):i&&(this[i]=u)}}({ar62u:[function(t,n,r){var o=t("./general");async function i(){try{let t=await callBackendApi("/api/shopify/recentlyAddedItems"),n=document.getElementById("ItemListRecentlyAddedItems"),r=document.getElementById("ItemListRecentlyAddedItemsDesktop");for(let o of(n.innerHTML="",r.innerHTML="",t.data)){let t=`<div class="div-block-14-big"><a href="${o.url}"/><div class="ratio-box _16-9"><div class="content-block with-image">
                        <div class="img-container" style="background-image: url('${o.image}')"></div></div></div>
                        <div class="recently-added-text-block">
                            <div class="recent-added-items-subheader">${o.brand}</div>
                            <div class="recent-added-items-subheader-category">${o.category}</div>
                            <div class="recently-added-price">${o.currentPrice} kr</div>
                        </div><a/></div>`;n.innerHTML+=t;let i=t.replace("14-big","14-big-desktop");r.innerHTML+=i}}catch(t){errorHandler.report(t),console.log("error",t)}}function a(t){isIos?(document.getElementById("continueOnWebBottomSheet").href=window.location.origin+t,document.getElementById("darkOverlay").classList.add("active"),document.getElementById("channelBottomSheet").classList.add("active")):window.location.href=t}function s(){document.getElementById("darkOverlay").classList.remove("active"),document.getElementById("channelBottomSheet").classList.remove("active")}document.getElementById("sellItemCtaButton").addEventListener("click",()=>a("/sell-item")),document.getElementById("stickySellItemButton").addEventListener("click",()=>a("/sell-item")),document.getElementById("headerLoginButton").addEventListener("click",()=>a("/sign-in")),document.getElementById("darkOverlay").addEventListener("click",s),document.getElementById("closeChannelBottomSheet").addEventListener("click",s),authUser.whenSet(signedInNextStep),function(){let t=callBackendApi("/api/items/recentlySold");t.then(t=>{// Read result of the Cloud Function.
let n=document.getElementById("itemListRecentlySold1");n.innerHTML="";let r=document.getElementById("itemListRecentlySoldStartPageDesktop");r.innerHTML="",t.data.forEach((t,i)=>{let a=t.brand,s=t.soldPrice,d=new Date(t.soldDate),l=new Date(t.publishedDate),c=(0,o.itemCoverImage)(t),m=Math.floor((d.getTime()-l.getTime())/864e5);if(s>=180||m<=20){let t=`<div class="item-card-recently-sold"><div class="ratio-box _16-9"><div class="content-block with-image">
                        <div class="img-container" style="background-image: url('${c}');"></div></div></div>
                        <div>
                        <div>${a}</div>
                        <div>S\xe5ld f\xf6r ${s} kr</div>
                        </div>
                        </div>`;n.innerHTML+=t,r.innerHTML+=t}}),// Start auto-scroll after items are loaded
function(t){if(!t)return;let n=!0,r=null,o=!1,i=t.scrollLeft,a=t.scrollWidth-t.clientWidth;if(a<=0)return;// No scrolling needed
let s=()=>{if(!n)return;let a=t.scrollLeft,d=t.scrollWidth-t.clientWidth;// Stop if we've reached the end
a>=d-1||(// Scroll to the right programmatically
o=!0,t.scrollLeft+=.5,i=t.scrollLeft,o=!1,r=requestAnimationFrame(s))},d=()=>{n=!1,r&&(cancelAnimationFrame(r),r=null)},l=()=>{if(o){i=t.scrollLeft;return}let n=t.scrollLeft;// If scroll changed and it wasn't our programmatic scroll, user is interacting
Math.abs(n-i)>.75?(d(),t.removeEventListener("scroll",l)):i=n};// Listen for direct user interactions (these immediately pause)
t.addEventListener("touchstart",d,{once:!0}),t.addEventListener("mousedown",d,{once:!0}),t.addEventListener("wheel",d,{once:!0}),t.addEventListener("scroll",l),// Start auto-scroll after a short delay to ensure content is rendered
setTimeout(()=>{n&&(i=t.scrollLeft,r=requestAnimationFrame(s))},500)}(n)}).catch(t=>{errorHandler.report(t);// Getting the Error details.
var n=t.code;console.log("Error message: ",t.message,n)});// [END fb_functions_call_add_message_error]
}(),i(),(()=>{let t=document.getElementById("howItWorksDiv");new IntersectionObserver((t,n)=>{t[0].isIntersecting&&(analytics.track("Element Viewed",{elementID:"howItWorksSlide1"}),n.disconnect())},{rootMargin:"0px 0px -600px 0px"}).observe(t),new MutationObserver(t=>{let n=t.find(t=>"attributes"===t.type&&"aria-hidden"===t.attributeName);n&&n.oldValue&&!n.target["aria-hidden"]&&analytics.track("Element Viewed",{elementID:`howItWorksSlide${n.target.ariaLabel.slice(0,1)}`})}).observe(t,{attributeFilter:["aria-hidden"],attributeOldValue:!0,subtree:!0})})(),function(){let t="noCommissionCampaignCookie";getCookie(t);let n=new Intl.DateTimeFormat("se-SV").format(new Date);n>="2024-08-12"&&n<="2024-08-18"&&(function(){let t=document.getElementById("noCommissionCampaign");analytics.track("Element Viewed",{elementID:"noCommissionCampaign"}),t.style.display="block",document.getElementById("noCommissionAd").style.display="block",document.getElementById("sellItemCtaButton").getBoundingClientRect().y<-47&&(t.style.top="0px"),new IntersectionObserver((n,r)=>{t.style.top=document.getElementById("sellItemCtaButton").getBoundingClientRect().y>-47?"-80px":"0px"},{rootMargin:"0px 0px -100%",root:null}).observe(document.getElementById("ctaSection")),new IntersectionObserver((t,n)=>{t[0].isIntersecting&&(analytics.track("Element Viewed",{elementID:"noCommissionCampaignAd"}),n.disconnect())},{rootMargin:"0px 0px -370px 0px"}).observe(document.getElementById("noCommissionAd"))}(),setCookie(t,"noCommission",7));/*
  //A/B test code
  if (campaignDateOk && (cookie === 'noCommission' || (!cookie.length && random > 0.5))) {
    showNoCommissionCampaign();
    setCookie(cookieName, 'noCommission', 7);
  } else if (campaignDateOk && !cookie.length && random <= 0.5) {
    setCookie(cookieName, 'commission', 7);
  }
  */}(),isIos&&// End of channel bottom sheet
function(){let t=document.getElementById("downloadAppLink");t.style.display="flex"}(),// Set attribution cookies (could be put on any campaign page)
checkCookie("utm_campaign"),checkCookie("utm_source"),checkCookie("utm_medium"),checkCookie("utm_term"),checkCookie("utm_content");// Set invite code cookie
let d=checkCookie("invite");d&&(referralCodeText.innerHTML=d,activeCode.style.display="flex"),window.intercomSettings={app_id:"klyy0le5"},function(){var t=window,n=t.Intercom;if("function"==typeof n)n("reattach_activator"),n("update",t.intercomSettings);else{var r=document,o=function(){o.c(arguments)};o.q=[],o.c=function(t){o.q.push(t)},t.Intercom=o;var i=function(){var t=r.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://widget.intercom.io/widget/klyy0le5";var n=r.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)};t.attachEvent?t.attachEvent("onload",i):t.addEventListener("load",i,!1)}}()},{"./general":"1tOWF"}],"1tOWF":[function(t,n,r){var o=t("@parcel/transformer-js/src/esmodule-helpers.js");function i(){firebase.auth().signOut().then(()=>{console.log("User signed out"),authUser.current=null,user.current=null,userId=null,localStorage.removeItem("sessionUser"),localStorage.removeItem("idToken"),localStorage.removeItem("authUserId"),localStorage.removeItem("authUser"),deleteCookie("maiAuth"),callBackendApi("/api/users/session",{method:"DELETE",extraHeaders:{credentials:"include"}}).catch(t=>{errorHandler.report(t),console.warn("[SSO] Error clearing session cookie:",e)}),location.href="/"}).catch(t=>{errorHandler.report(t),console.log(t)})}function a(t){document.getElementById("addressFirstName").value=t.addressFirstName||"",document.getElementById("addressFirstName").dispatchEvent(new Event("input")),document.getElementById("addressLastName").value=t.addressLastName||"",document.getElementById("addressLastName").dispatchEvent(new Event("input")),document.getElementById("addressStreetAddress").value=t.addressStreetAddress||"",document.getElementById("addressStreetAddress").dispatchEvent(new Event("input")),document.getElementById("addressCO").value=t.addressCO||"",document.getElementById("addressCO").dispatchEvent(new Event("input")),document.getElementById("addressPostalCode").value=t.addressPostalCode||"",document.getElementById("addressPostalCode").dispatchEvent(new Event("input")),document.getElementById("addressCity").value=t.addressCity||"",document.getElementById("addressCity").dispatchEvent(new Event("input")),document.getElementById("addressDoorCode").value=t.addressDoorCode||"",document.getElementById("addressDoorCode").dispatchEvent(new Event("input"))}function s(){let t=document.getElementById("addressFirstName").value,n=document.getElementById("addressLastName").value,r=document.getElementById("addressStreetAddress").value,o=document.getElementById("addressCO").value,i=document.getElementById("addressPostalCode").value,a=document.getElementById("addressCity").value,s=document.getElementById("addressDoorCode").value;return t=t?t.trim().charAt(0).toUpperCase()+t.trim().slice(1):"",n=n?n.trim().charAt(0).toUpperCase()+n.trim().slice(1):"",r=r?r.trim().charAt(0).toUpperCase()+r.trim().slice(1):"",o=o?o.trim():"",{addressFirstName:t,addressLastName:n,addressStreetAddress:r,addressCO:o,addressPostalCode:i=i?i.trim().replace(/\D/g,""):"",addressCity:a=a?a.trim().charAt(0).toUpperCase()+a.trim().slice(1):"",addressDoorCode:s=s?s.trim():""}}function d(t){// verify we got 10 digits, otherwise it is invalid
if(10!==(t=t.replace(/\D/g,"")// strip out all but digits
.split("")// convert string to array
.reverse()// reverse order for Luhn
.slice(0,10)).length)return!1;let n=t.map(t=>Number(t)).reduce((t,n,r)=>(r%2&&(n*=2),n>9&&(n-=9),t+n));return 0==n%10}function l(t){let n=t.replace("-","");return(12!==n.length&&("19"!==n.substring(0,2)||"20"!==n.substring(0,2))&&(n=99>=Number(n.substring(0,2))&&Number(n.substring(0,2))>25?"19"+n:"20"+n),12===n.length)?n:null}function c(t){if(t.images){let n=t.images;return n.modelImageSmall||n.modelImage||n.coverImageSmall||n.coverImage||n.enhancedFrontImageSmall||n.enhancedFrontImage||n.frontImageSmall||n.frontImage}if(t.imagesv2)for(let n of["modelImage","enhancedFrontImage","frontImage"]){let r=t.imagesv2.find(t=>t.name===n);if(r){if(r?.versions?.small)return r.versions.small;if(r?.versions?.medium)return r.versions.medium;if(r?.versions?.large)return r.versions.large;if(r.url)return r.url}}return null}function m(){let t;let n=user.current.referralData.referralCode;if(t=user.current?.maiCircle?"H\xe4r f\xe5r du en exklusiv inbjudan till Mai, som ger en extra fin start med tre kommissionsfria f\xf6rs\xe4ljningar.":"Jag bjuder in dig till Mai f\xf6r att s\xe4lja dina kl\xe4der! G\xe5 genom min l\xe4nk f\xf6r att f\xe5 en extra kommissionsfri f\xf6rs\xe4ljning.",navigator.share)navigator.share({text:t,url:`https://invite.maiapp.se/refer?invite=${n}`}).then(()=>{console.log("Thanks for sharing!")}).catch(t=>{console.error(t),errorHandler.report(t)});else{console.log("Browser doesn't support navigator.share => Copy to clipboard!");let r=t+"\n"+`https://invite.maiapp.se/refer?invite=${n}`;navigator.clipboard.writeText(r),linkCopiedBanner.style.display="flex",setTimeout(function(){linkCopiedBanner.style.display="none"},1500)}}function u(t){let n=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;n?(document.getElementById("continueOnWebBottomSheet").href=window.location.origin+t,document.getElementById("darkOverlay").classList.add("active"),document.getElementById("channelBottomSheet").classList.add("active")):window.location.href=t}function g(){document.getElementById("darkOverlay").classList.remove("active"),document.getElementById("channelBottomSheet").classList.remove("active")}function f(t){let n=document.getElementById(t);n&&(// Set initial position below screen
n.style.transform="translateY(100%)",n.style.transition="transform 0.3s ease-out",n.style.display="block",// Animate to visible position
setTimeout(()=>{n.style.transform="translateY(0%)"},10),document.getElementById("darkOverlay").classList.add("active"))}function v(t){let n=document.getElementById(t);// Add the visibility check here
n&&"none"!==n.style.display&&(// Animate down and hide
n.style.transform="translateY(100%)",n.style.transition="transform 0.3s ease-in",// Hide after animation completes
setTimeout(()=>{n.style.display="none"},300),document.getElementById("darkOverlay").classList.remove("active"))}function p(t){let n=document.getElementById(t);if(n){n.style.display="none";// Check if there are any remaining visible cards
let t=document.getElementById("infoRequestsList");if(t){let n=t.querySelectorAll('[id^="infoRequest"]:not([style*="display: none"])');if(0===n.length){let t=document.getElementById("infoRequestsDiv");t&&(t.style.display="none")}}}}o.defineInteropFlag(r),o.export(r,"signOut",()=>i),o.export(r,"setFormAddressFields",()=>a),o.export(r,"getFormAddressFields",()=>s),// Validate Swedish Social Security Number (personnummer) using checksum
//   Note: this is somewhat simplified because it does not take into account
//   that the date of the number is valid (e.g. "000000-0000" does return as true)
o.export(r,"isValidSwedishSsn",()=>d),o.export(r,"formatPersonalId",()=>l),o.export(r,"itemCoverImage",()=>c),o.export(r,"shareCode",()=>m),// Channel bottom sheet
o.export(r,"channelRouter",()=>u),o.export(r,"hideChannelBottomSheet",()=>g),// End of channel bottom sheet
// Toast animation functions
o.export(r,"animateOpenToast",()=>f),o.export(r,"animateCloseToast",()=>v),o.export(r,"hideInfoRequestCard",()=>p)},{"@parcel/transformer-js/src/esmodule-helpers.js":"bNgzC"}],bNgzC:[function(t,n,r){r.interopDefault=function(t){return t&&t.__esModule?t:{default:t}},r.defineInteropFlag=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.exportAll=function(t,n){return Object.keys(t).forEach(function(r){"default"===r||"__esModule"===r||n.hasOwnProperty(r)||Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[r]}})}),n},r.export=function(t,n,r){Object.defineProperty(t,n,{enumerable:!0,get:r})}},{}]},["ar62u"],"ar62u","parcelRequire81ca")//# sourceMappingURL=home.js.map
;
//# sourceMappingURL=home.js.map
