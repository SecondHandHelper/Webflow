{"mappings":"C,A,S,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,E,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,A,Y,O,C,C,E,E,C,C,E,C,E,E,C,E,C,E,E,E,K,E,C,E,E,A,a,O,Q,A,Y,O,O,O,E,O,O,C,I,C,Q,S,E,C,C,C,E,G,C,C,C,E,C,C,G,C,C,C,E,C,C,G,C,C,E,C,O,C,C,E,C,I,E,A,Y,O,C,C,E,E,C,C,E,C,G,C,G,E,O,E,E,C,G,G,E,O,E,E,C,G,G,G,A,U,O,E,O,E,G,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,O,C,S,C,E,I,E,C,C,E,C,E,C,E,C,O,A,M,E,E,C,E,E,K,C,C,E,I,E,C,C,E,C,I,E,M,C,G,C,C,E,C,E,C,I,C,E,O,C,E,E,E,O,C,E,C,O,C,C,E,C,O,C,S,E,C,E,I,E,E,O,C,G,G,A,C,I,E,M,C,E,G,M,O,C,G,C,I,E,C,W,C,C,E,O,E,O,C,S,C,E,I,E,C,C,E,C,E,C,C,E,C,E,C,C,E,E,C,C,E,C,E,E,E,A,C,M,E,O,I,C,G,O,C,S,C,E,Y,G,A,e,G,O,S,C,c,C,I,C,E,I,O,c,C,E,E,C,W,C,E,I,W,O,C,C,E,A,C,E,G,A,M,E,O,c,C,E,E,C,W,C,E,M,C,G,O,c,C,E,E,C,W,C,E,I,iB,A,A,Y,E,E,U,C,E,O,C,E,C,C,E,A,C,E,G,C,C,O,E,E,C,C,E,e,C,C,E,E,M,C,S,C,E,I,C,E,C,E,I,C,M,C,E,I,C,O,C,E,I,C,O,C,C,C,E,E,O,C,E,E,K,C,E,E,M,C,E,E,O,C,K,E,E,S,C,K,E,E,S,C,K,E,E,C,C,E,E,Q,C,S,C,C,C,E,C,C,E,C,C,S,C,C,C,E,E,O,C,C,E,C,E,A,E,O,c,C,E,O,C,I,W,O,C,C,E,A,C,G,C,C,E,C,E,I,I,E,E,E,E,M,C,I,E,C,C,E,E,G,E,C,I,E,E,E,A,C,U,O,S,A,a,O,O,O,O,C,E,A,Y,O,Q,O,G,E,O,W,O,C,E,C,E,C,M,C,S,C,C,C,C,C,C,C,MC0JQ,EA1JR,IAAA,EAAA,EAAA,aA6HA,eAAe,IACb,GAAI,CACF,IAAM,EAAW,MAAM,eAAe,mCAChC,E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","sources":["<anon>","home.js","general.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js"],"sourcesContent":["// modules are defined as an array\n// [ module function, map of requires ]\n//\n// map of requires is short require name -> numeric require\n//\n// anything defined in a previous bundle is accessed via the\n// orig method which is the require for previous bundles\n\n(function (\n  modules,\n  entry,\n  mainEntry,\n  parcelRequireName,\n  externals,\n  distDir,\n  publicUrl,\n  devServer\n) {\n  /* eslint-disable no-undef */\n  var globalObject =\n    typeof globalThis !== 'undefined'\n      ? globalThis\n      : typeof self !== 'undefined'\n      ? self\n      : typeof window !== 'undefined'\n      ? window\n      : typeof global !== 'undefined'\n      ? global\n      : {};\n  /* eslint-enable no-undef */\n\n  // Save the require from previous bundle to this closure if any\n  var previousRequire =\n    typeof globalObject[parcelRequireName] === 'function' &&\n    globalObject[parcelRequireName];\n\n  var importMap = previousRequire.i || {};\n  var cache = previousRequire.cache || {};\n  // Do not use `require` to prevent Webpack from trying to bundle this call\n  var nodeRequire =\n    typeof module !== 'undefined' &&\n    typeof module.require === 'function' &&\n    module.require.bind(module);\n\n  function newRequire(name, jumped) {\n    if (!cache[name]) {\n      if (!modules[name]) {\n        if (externals[name]) {\n          return externals[name];\n        }\n        // if we cannot find the module within our internal map or\n        // cache jump to the current global require ie. the last bundle\n        // that was added to the page.\n        var currentRequire =\n          typeof globalObject[parcelRequireName] === 'function' &&\n          globalObject[parcelRequireName];\n        if (!jumped && currentRequire) {\n          return currentRequire(name, true);\n        }\n\n        // If there are other bundles on this page the require from the\n        // previous one is saved to 'previousRequire'. Repeat this as\n        // many times as there are bundles until the module is found or\n        // we exhaust the require chain.\n        if (previousRequire) {\n          return previousRequire(name, true);\n        }\n\n        // Try the node require function if it exists.\n        if (nodeRequire && typeof name === 'string') {\n          return nodeRequire(name);\n        }\n\n        var err = new Error(\"Cannot find module '\" + name + \"'\");\n        err.code = 'MODULE_NOT_FOUND';\n        throw err;\n      }\n\n      localRequire.resolve = resolve;\n      localRequire.cache = {};\n\n      var module = (cache[name] = new newRequire.Module(name));\n\n      modules[name][0].call(\n        module.exports,\n        localRequire,\n        module,\n        module.exports,\n        globalObject\n      );\n    }\n\n    return cache[name].exports;\n\n    function localRequire(x) {\n      var res = localRequire.resolve(x);\n      if (res === false) {\n        return {};\n      }\n      // Synthesize a module to follow re-exports.\n      if (Array.isArray(res)) {\n        var m = {__esModule: true};\n        res.forEach(function (v) {\n          var key = v[0];\n          var id = v[1];\n          var exp = v[2] || v[0];\n          var x = newRequire(id);\n          if (key === '*') {\n            Object.keys(x).forEach(function (key) {\n              if (\n                key === 'default' ||\n                key === '__esModule' ||\n                Object.prototype.hasOwnProperty.call(m, key)\n              ) {\n                return;\n              }\n\n              Object.defineProperty(m, key, {\n                enumerable: true,\n                get: function () {\n                  return x[key];\n                },\n              });\n            });\n          } else if (exp === '*') {\n            Object.defineProperty(m, key, {\n              enumerable: true,\n              value: x,\n            });\n          } else {\n            Object.defineProperty(m, key, {\n              enumerable: true,\n              get: function () {\n                if (exp === 'default') {\n                  return x.__esModule ? x.default : x;\n                }\n                return x[exp];\n              },\n            });\n          }\n        });\n        return m;\n      }\n      return newRequire(res);\n    }\n\n    function resolve(x) {\n      var id = modules[name][1][x];\n      return id != null ? id : x;\n    }\n  }\n\n  function Module(moduleName) {\n    this.id = moduleName;\n    this.bundle = newRequire;\n    this.require = nodeRequire;\n    this.exports = {};\n  }\n\n  newRequire.isParcelRequire = true;\n  newRequire.Module = Module;\n  newRequire.modules = modules;\n  newRequire.cache = cache;\n  newRequire.parent = previousRequire;\n  newRequire.distDir = distDir;\n  newRequire.publicUrl = publicUrl;\n  newRequire.devServer = devServer;\n  newRequire.i = importMap;\n  newRequire.register = function (id, exports) {\n    modules[id] = [\n      function (require, module) {\n        module.exports = exports;\n      },\n      {},\n    ];\n  };\n\n  // Only insert newRequire.load when it is actually used.\n  // The code in this file is linted against ES5, so dynamic import is not allowed.\n  // INSERT_LOAD_HERE\n\n  Object.defineProperty(newRequire, 'root', {\n    get: function () {\n      return globalObject[parcelRequireName];\n    },\n  });\n\n  globalObject[parcelRequireName] = newRequire;\n\n  for (var i = 0; i < entry.length; i++) {\n    newRequire(entry[i]);\n  }\n\n  if (mainEntry) {\n    // Expose entry point to Node, AMD or browser globals\n    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js\n    var mainExports = newRequire(mainEntry);\n\n    // CommonJS\n    if (typeof exports === 'object' && typeof module !== 'undefined') {\n      module.exports = mainExports;\n\n      // RequireJS\n    } else if (typeof define === 'function' && define.amd) {\n      define(function () {\n        return mainExports;\n      });\n    }\n  }\n})({\"ar62u\":[function(require,module,exports,__globalThis) {\nvar _general = require(\"./general\");\nfunction startAutoScroll(itemListElement) {\n    if (!itemListElement) return;\n    let autoScrollActive = true;\n    let animationFrameId = null;\n    let isProgrammaticScroll = false;\n    let lastScrollLeft = itemListElement.scrollLeft;\n    const scrollSpeed = 0.5; // pixels per frame (adjust for speed)\n    // Check if there's content to scroll\n    const maxScroll = itemListElement.scrollWidth - itemListElement.clientWidth;\n    if (maxScroll <= 0) return; // No scrolling needed\n    const autoScroll = ()=>{\n        if (!autoScrollActive) return;\n        const currentScroll = itemListElement.scrollLeft;\n        const maxScroll = itemListElement.scrollWidth - itemListElement.clientWidth;\n        // Stop if we've reached the end\n        if (currentScroll >= maxScroll - 1) return;\n        // Scroll to the right programmatically\n        isProgrammaticScroll = true;\n        itemListElement.scrollLeft += scrollSpeed;\n        lastScrollLeft = itemListElement.scrollLeft;\n        isProgrammaticScroll = false;\n        animationFrameId = requestAnimationFrame(autoScroll);\n    };\n    // Pause auto-scroll on user interaction\n    const pauseAutoScroll = ()=>{\n        autoScrollActive = false;\n        if (animationFrameId) {\n            cancelAnimationFrame(animationFrameId);\n            animationFrameId = null;\n        }\n    };\n    // Detect user scroll (when scroll position changes without our programmatic scroll)\n    const handleScroll = ()=>{\n        if (isProgrammaticScroll) {\n            lastScrollLeft = itemListElement.scrollLeft;\n            return;\n        }\n        const currentScrollLeft = itemListElement.scrollLeft;\n        // If scroll changed and it wasn't our programmatic scroll, user is interacting\n        if (Math.abs(currentScrollLeft - lastScrollLeft) > scrollSpeed * 1.5) {\n            pauseAutoScroll();\n            itemListElement.removeEventListener('scroll', handleScroll);\n        } else lastScrollLeft = currentScrollLeft;\n    };\n    // Listen for direct user interactions (these immediately pause)\n    itemListElement.addEventListener('touchstart', pauseAutoScroll, {\n        once: true\n    });\n    itemListElement.addEventListener('mousedown', pauseAutoScroll, {\n        once: true\n    });\n    itemListElement.addEventListener('wheel', pauseAutoScroll, {\n        once: true\n    });\n    itemListElement.addEventListener('scroll', handleScroll);\n    // Start auto-scroll after a short delay to ensure content is rendered\n    setTimeout(()=>{\n        if (autoScrollActive) {\n            lastScrollLeft = itemListElement.scrollLeft;\n            animationFrameId = requestAnimationFrame(autoScroll);\n        }\n    }, 500);\n}\nfunction loadRecentlySold() {\n    const recentlySoldItems = callBackendApi(\"/api/items/recentlySold\");\n    recentlySoldItems.then((result)=>{\n        // Read result of the Cloud Function.\n        const itemListRecentlySold1 = document.getElementById(\"itemListRecentlySold1\");\n        itemListRecentlySold1.innerHTML = \"\";\n        const itemListRecentlySoldStartPageDesktop = document.getElementById(\"itemListRecentlySoldStartPageDesktop\");\n        itemListRecentlySoldStartPageDesktop.innerHTML = \"\";\n        result.data.forEach((item, index)=>{\n            const brand = item.brand;\n            const soldPrice = item.soldPrice;\n            const soldDate = new Date(item.soldDate);\n            const publishedDate = new Date(item.publishedDate);\n            const imageUrl = (0, _general.itemCoverImage)(item);\n            const daysToSold = Math.floor((soldDate.getTime() - publishedDate.getTime()) / 86400000);\n            if (soldPrice >= 180 || daysToSold <= 20) {\n                const itemCardHTML = `<div class=\"item-card-recently-sold\"><div class=\"ratio-box _16-9\"><div class=\"content-block with-image\">\n                        <div class=\"img-container\" style=\"background-image: url('${imageUrl}');\"></div></div></div>\n                        <div>\n                        <div>${brand}</div>\n                        <div>S\\xe5ld f\\xf6r ${soldPrice} kr</div>\n                        </div>\n                        </div>`;\n                itemListRecentlySold1.innerHTML += itemCardHTML;\n                itemListRecentlySoldStartPageDesktop.innerHTML += itemCardHTML;\n            }\n        });\n        // Start auto-scroll after items are loaded\n        startAutoScroll(itemListRecentlySold1);\n    }).catch((error)=>{\n        errorHandler.report(error);\n        // Getting the Error details.\n        var code = error.code;\n        var message = error.message;\n        console.log(\"Error message: \", message, code);\n    });\n// [END fb_functions_call_add_message_error]\n}\nasync function fetchAndLoadRecentlyAddedItems() {\n    try {\n        const response = await callBackendApi(\"/api/shopify/recentlyAddedItems\");\n        const itemList = document.getElementById(\"ItemListRecentlyAddedItems\");\n        const itemListDesktop = document.getElementById(\"ItemListRecentlyAddedItemsDesktop\");\n        itemList.innerHTML = \"\";\n        itemListDesktop.innerHTML = \"\";\n        for (const item of response.data){\n            const itemCardHTML = `<div class=\"div-block-14-big\"><a href=\"${item.url}\"/><div class=\"ratio-box _16-9\"><div class=\"content-block with-image\">\n                        <div class=\"img-container\" style=\"background-image: url('${item.image}')\"></div></div></div>\n                        <div class=\"recently-added-text-block\">\n                            <div class=\"recent-added-items-subheader\">${item.brand}</div>\n                            <div class=\"recent-added-items-subheader-category\">${item.category}</div>\n                            <div class=\"recently-added-price\">${item.currentPrice} kr</div>\n                        </div><a/></div>`;\n            itemList.innerHTML += itemCardHTML;\n            const desktopCardHTML = itemCardHTML.replace(\"14-big\", \"14-big-desktop\");\n            itemListDesktop.innerHTML += desktopCardHTML;\n        }\n    } catch (e) {\n        errorHandler.report(e);\n        console.log(\"error\", e);\n    }\n}\nconst trackHowItWorksInteractions = ()=>{\n    const howItWorksDiv = document.getElementById(\"howItWorksDiv\");\n    new IntersectionObserver((entries, observer)=>{\n        if (!entries[0].isIntersecting) return;\n        analytics.track(\"Element Viewed\", {\n            elementID: \"howItWorksSlide1\"\n        });\n        observer.disconnect();\n    }, {\n        rootMargin: \"0px 0px -600px 0px\"\n    }).observe(howItWorksDiv);\n    new MutationObserver((mutationList)=>{\n        const mutatedElement = mutationList.find((rec)=>rec.type === \"attributes\" && rec.attributeName === \"aria-hidden\");\n        if (mutatedElement && mutatedElement.oldValue && !mutatedElement.target[\"aria-hidden\"]) analytics.track(\"Element Viewed\", {\n            elementID: `howItWorksSlide${mutatedElement.target.ariaLabel.slice(0, 1)}`\n        });\n    }).observe(howItWorksDiv, {\n        attributeFilter: [\n            \"aria-hidden\"\n        ],\n        attributeOldValue: true,\n        subtree: true\n    });\n};\nfunction showNoCommissionCampaign() {\n    const noCommissionCampaignDiv = document.getElementById(\"noCommissionCampaign\");\n    analytics.track(\"Element Viewed\", {\n        elementID: \"noCommissionCampaign\"\n    });\n    noCommissionCampaignDiv.style.display = \"block\";\n    document.getElementById(\"noCommissionAd\").style.display = \"block\";\n    let sellItemCtaButton = document.getElementById(\"sellItemCtaButton\");\n    if (sellItemCtaButton.getBoundingClientRect().y < -47) noCommissionCampaignDiv.style.top = \"0px\";\n    new IntersectionObserver((entries, observer)=>{\n        noCommissionCampaignDiv.style.top = document.getElementById(\"sellItemCtaButton\").getBoundingClientRect().y > -47 ? \"-80px\" : \"0px\";\n    }, {\n        rootMargin: \"0px 0px -100%\",\n        root: null\n    }).observe(document.getElementById(\"ctaSection\"));\n    new IntersectionObserver((entries, observer)=>{\n        if (!entries[0].isIntersecting) return;\n        analytics.track(\"Element Viewed\", {\n            elementID: \"noCommissionCampaignAd\"\n        });\n        observer.disconnect();\n    }, {\n        rootMargin: \"0px 0px -370px 0px\"\n    }).observe(document.getElementById(\"noCommissionAd\"));\n}\nfunction noCommissionCampaign() {\n    const cookieName = \"noCommissionCampaignCookie\";\n    const cookie = getCookie(cookieName);\n    const random = Math.random();\n    const dateNow = new Intl.DateTimeFormat(\"se-SV\").format(new Date());\n    const campaignDateOk = dateNow >= \"2024-08-12\" && dateNow <= \"2024-08-18\";\n    if (campaignDateOk) {\n        showNoCommissionCampaign();\n        setCookie(cookieName, \"noCommission\", 7);\n    }\n/*\n  //A/B test code\n  if (campaignDateOk && (cookie === 'noCommission' || (!cookie.length && random > 0.5))) {\n    showNoCommissionCampaign();\n    setCookie(cookieName, 'noCommission', 7);\n  } else if (campaignDateOk && !cookie.length && random <= 0.5) {\n    setCookie(cookieName, 'commission', 7);\n  }\n  */ }\n// Channel bottom sheet\nfunction showChannelBottomSheet(webpath) {\n    document.getElementById(\"continueOnWebBottomSheet\").href = window.location.origin + webpath;\n    document.getElementById(\"darkOverlay\").classList.add(\"active\");\n    document.getElementById(\"channelBottomSheet\").classList.add(\"active\");\n}\nfunction channelRouter(webpath) {\n    if (isIos) showChannelBottomSheet(webpath);\n    else window.location.href = webpath;\n}\ndocument.getElementById(\"sellItemCtaButton\").addEventListener(\"click\", ()=>channelRouter(\"/sell-item\"));\ndocument.getElementById(\"stickySellItemButton\").addEventListener(\"click\", ()=>channelRouter(\"/sell-item\"));\ndocument.getElementById(\"headerLoginButton\").addEventListener(\"click\", ()=>channelRouter(\"/sign-in\"));\nconst menuLoginButton = document.getElementById(\"menuLoginButton\");\nif (menuLoginButton) menuLoginButton.addEventListener(\"click\", ()=>{\n    closeMenuWithAnimation();\n    channelRouter(\"/sign-in\");\n});\n// Menu Sell Item button - close menu and navigate to sell-item page\nconst menuSellItemButton = document.getElementById(\"menuSellItemButton\");\nif (menuSellItemButton) menuSellItemButton.addEventListener(\"click\", ()=>{\n    closeMenuWithAnimation();\n    channelRouter(\"/sell-item\");\n});\n// Menu fade animations\nconst menuButton = document.getElementById(\"menuButton\");\nconst closeMenuButton = document.getElementById(\"closeMenuButton\");\n// Reusable function to close menu with fade animation\nfunction closeMenuWithAnimation(e) {\n    if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n    }\n    const menu = document.getElementById('menu');\n    if (menu) {\n        // Ensure menu is visible and transition is set before animating\n        menu.style.display = 'block';\n        menu.style.transition = 'opacity 0.3s ease-in-out';\n        // Trigger reflow to ensure transition is applied\n        menu.offsetHeight;\n        // Start fade out\n        menu.style.opacity = '0';\n        // Hide menu after animation completes\n        setTimeout(()=>{\n            menu.style.display = 'none';\n        }, 300);\n    }\n}\nif (menuButton) menuButton.addEventListener(\"click\", function() {\n    // Fade in menu animation\n    const menu = document.getElementById('menu');\n    if (menu) {\n        menu.style.display = 'block';\n        menu.style.opacity = '0';\n        menu.style.transition = 'opacity 0.3s ease-in-out';\n        // Trigger reflow to ensure initial opacity is applied\n        menu.offsetHeight;\n        menu.style.opacity = '1';\n    }\n});\nif (closeMenuButton) closeMenuButton.addEventListener(\"click\", closeMenuWithAnimation);\n// Menu Chat button - close menu and open Intercom\nconst menuChatButton = document.getElementById(\"menuChatButton\");\nif (menuChatButton) menuChatButton.addEventListener(\"click\", ()=>{\n    // Close menu with animation\n    closeMenuWithAnimation();\n    // Open Intercom chat\n    Intercom('show');\n});\n// Menu FAQ button - close menu and scroll to FAQ section\nconst menuFaqButton = document.getElementById(\"menuFaqButton\");\nif (menuFaqButton) menuFaqButton.addEventListener(\"click\", function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    // Close menu with animation\n    closeMenuWithAnimation();\n    // Wait for menu animation to start, then scroll to FAQ with 50px offset\n    setTimeout(()=>{\n        const faqSection = document.getElementById('faq');\n        if (faqSection) {\n            const elementPosition = faqSection.getBoundingClientRect().top;\n            const offsetPosition = elementPosition + window.pageYOffset - 50;\n            window.scrollTo({\n                top: offsetPosition,\n                behavior: 'smooth'\n            });\n        }\n    }, 50);\n});\nfunction hideChannelBottomSheet() {\n    document.getElementById(\"darkOverlay\").classList.remove(\"active\");\n    document.getElementById(\"channelBottomSheet\").classList.remove(\"active\");\n}\ndocument.getElementById(\"darkOverlay\").addEventListener(\"click\", hideChannelBottomSheet);\ndocument.getElementById(\"closeChannelBottomSheet\").addEventListener(\"click\", hideChannelBottomSheet);\n// End of channel bottom sheet\nfunction showDownloadAppLink() {\n    const elm = document.getElementById(\"downloadAppLink\");\n    elm.style.display = \"flex\";\n}\nauthUser.whenSet(signedInNextStep);\nloadRecentlySold();\nfetchAndLoadRecentlyAddedItems();\ntrackHowItWorksInteractions();\nnoCommissionCampaign();\nif (isIos) showDownloadAppLink();\n// Set attribution cookies (could be put on any campaign page)\ncheckCookie(\"utm_campaign\");\ncheckCookie(\"utm_source\");\ncheckCookie(\"utm_medium\");\ncheckCookie(\"utm_term\");\ncheckCookie(\"utm_content\");\n// Set invite code cookie\nconst inviteCode = checkCookie(\"invite\");\nif (inviteCode) {\n    referralCodeText.innerHTML = inviteCode;\n    activeCode.style.display = \"flex\";\n}\nwindow.intercomSettings = {\n    app_id: \"klyy0le5\"\n};\n(function() {\n    var w = window;\n    var ic = w.Intercom;\n    if (typeof ic === \"function\") {\n        ic(\"reattach_activator\");\n        ic(\"update\", w.intercomSettings);\n    } else {\n        var d = document;\n        var i = function() {\n            i.c(arguments);\n        };\n        i.q = [];\n        i.c = function(args) {\n            i.q.push(args);\n        };\n        w.Intercom = i;\n        var l = function() {\n            var s = d.createElement(\"script\");\n            s.type = \"text/javascript\";\n            s.async = true;\n            s.src = \"https://widget.intercom.io/widget/klyy0le5\";\n            var x = d.getElementsByTagName(\"script\")[0];\n            x.parentNode.insertBefore(s, x);\n        };\n        if (w.attachEvent) w.attachEvent(\"onload\", l);\n        else w.addEventListener(\"load\", l, false);\n    }\n})();\n\n},{\"./general\":\"1tOWF\"}],\"1tOWF\":[function(require,module,exports,__globalThis) {\nvar parcelHelpers = require(\"@parcel/transformer-js/src/esmodule-helpers.js\");\nparcelHelpers.defineInteropFlag(exports);\nparcelHelpers.export(exports, \"signOut\", ()=>signOut);\nparcelHelpers.export(exports, \"setFormAddressFields\", ()=>setFormAddressFields);\nparcelHelpers.export(exports, \"getFormAddressFields\", ()=>getFormAddressFields);\n// Validate Swedish Social Security Number (personnummer) using checksum\n//   Note: this is somewhat simplified because it does not take into account\n//   that the date of the number is valid (e.g. \"000000-0000\" does return as true)\nparcelHelpers.export(exports, \"isValidSwedishSsn\", ()=>isValidSwedishSsn);\nparcelHelpers.export(exports, \"formatPersonalId\", ()=>formatPersonalId);\nparcelHelpers.export(exports, \"itemCoverImage\", ()=>itemCoverImage);\nparcelHelpers.export(exports, \"shareCode\", ()=>shareCode);\n// Channel bottom sheet\nparcelHelpers.export(exports, \"channelRouter\", ()=>channelRouter);\nparcelHelpers.export(exports, \"hideChannelBottomSheet\", ()=>hideChannelBottomSheet);\n// End of channel bottom sheet\n// Toast animation functions\nparcelHelpers.export(exports, \"animateOpenToast\", ()=>animateOpenToast);\nparcelHelpers.export(exports, \"animateCloseToast\", ()=>animateCloseToast);\nparcelHelpers.export(exports, \"hideInfoRequestCard\", ()=>hideInfoRequestCard);\nasync function signOut() {\n    try {\n        try {\n            // Delete session cookie\n            await callBackendApi('/api/users/session', {\n                method: \"DELETE\",\n                fetchInit: {\n                    credentials: \"include\"\n                }\n            });\n        } catch (error) {\n            console.warn(\"[SSO] Error clearing session cookie:\", error);\n            errorHandler.report(error);\n        }\n        await firebase.auth().signOut();\n        console.log('User signed out');\n        authUser.current = null;\n        user.current = null;\n        userId = null;\n        localStorage.removeItem('sessionUser');\n        localStorage.removeItem('idToken');\n        localStorage.removeItem('authUserId');\n        localStorage.removeItem('authUser');\n        deleteCookie('maiAuth');\n        location.href = '/';\n    } catch (error) {\n        errorHandler.report(error);\n        console.log(error);\n    }\n}\nfunction setFormAddressFields(user1) {\n    document.getElementById(\"addressFirstName\").value = user1.addressFirstName || '';\n    document.getElementById(\"addressFirstName\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressLastName\").value = user1.addressLastName || '';\n    document.getElementById(\"addressLastName\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressStreetAddress\").value = user1.addressStreetAddress || '';\n    document.getElementById(\"addressStreetAddress\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressCO\").value = user1.addressCO || '';\n    document.getElementById(\"addressCO\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressPostalCode\").value = user1.addressPostalCode || '';\n    document.getElementById(\"addressPostalCode\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressCity\").value = user1.addressCity || '';\n    document.getElementById(\"addressCity\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressDoorCode\").value = user1.addressDoorCode || '';\n    document.getElementById(\"addressDoorCode\").dispatchEvent(new Event('input'));\n}\nfunction getFormAddressFields() {\n    let addressFirstName = document.getElementById(\"addressFirstName\").value;\n    let addressLastName = document.getElementById(\"addressLastName\").value;\n    let addressStreetAddress = document.getElementById(\"addressStreetAddress\").value;\n    let addressCO = document.getElementById(\"addressCO\").value;\n    let addressPostalCode = document.getElementById(\"addressPostalCode\").value;\n    let addressCity = document.getElementById(\"addressCity\").value;\n    let addressDoorCode = document.getElementById(\"addressDoorCode\").value;\n    addressFirstName = addressFirstName ? addressFirstName.trim().charAt(0).toUpperCase() + addressFirstName.trim().slice(1) : \"\";\n    addressLastName = addressLastName ? addressLastName.trim().charAt(0).toUpperCase() + addressLastName.trim().slice(1) : \"\";\n    addressStreetAddress = addressStreetAddress ? addressStreetAddress.trim().charAt(0).toUpperCase() + addressStreetAddress.trim().slice(1) : \"\";\n    addressCO = addressCO ? addressCO.trim() : \"\";\n    addressPostalCode = addressPostalCode ? addressPostalCode.trim().replace(/\\D/g, '') : \"\";\n    addressCity = addressCity ? addressCity.trim().charAt(0).toUpperCase() + addressCity.trim().slice(1) : \"\";\n    addressDoorCode = addressDoorCode ? addressDoorCode.trim() : \"\";\n    return {\n        addressFirstName,\n        addressLastName,\n        addressStreetAddress,\n        addressCO,\n        addressPostalCode,\n        addressCity,\n        addressDoorCode\n    };\n}\nfunction isValidSwedishSsn(ssn) {\n    ssn = ssn.replace(/\\D/g, \"\") // strip out all but digits\n    .split(\"\") // convert string to array\n    .reverse() // reverse order for Luhn\n    .slice(0, 10); // keep only 10 digits (i.e. 1977 becomes 77)\n    // verify we got 10 digits, otherwise it is invalid\n    if (ssn.length !== 10) return false;\n    const sum = ssn.map((n)=>Number(n)).reduce((previous, current, index)=>{\n        if (index % 2) current *= 2;\n        if (current > 9) current -= 9;\n        return previous + current;\n    });\n    return 0 === sum % 10;\n}\nfunction formatPersonalId(personalIdInput) {\n    let personalId = personalIdInput.replace('-', '');\n    if (personalId.length !== 12 && (personalId.substring(0, 2) !== '19' || personalId.substring(0, 2) !== '20')) {\n        if (Number(personalId.substring(0, 2)) <= 99 && Number(personalId.substring(0, 2)) > 25) personalId = \"19\" + personalId;\n        else personalId = \"20\" + personalId;\n    }\n    if (personalId.length === 12) return personalId;\n    return null;\n}\nfunction itemCoverImage(item) {\n    if (item.images) {\n        const images = item.images;\n        return images.modelImageSmall || images.modelImage || images.coverImageSmall || images.coverImage || images.enhancedFrontImageSmall || images.enhancedFrontImage || images.frontImageSmall || images.frontImage;\n    } else if (item.imagesv2) {\n        const priorityOrder = [\n            'modelImage',\n            'enhancedFrontImage',\n            'frontImage'\n        ];\n        for (const name of priorityOrder){\n            const image = item.imagesv2.find((img)=>img.name === name);\n            if (image) {\n                if (image?.versions?.small) return image.versions.small;\n                if (image?.versions?.medium) return image.versions.medium;\n                if (image?.versions?.large) return image.versions.large;\n                if (image.url) return image.url;\n            }\n        }\n    }\n    return null;\n}\nfunction shareCode() {\n    const code = user.current.referralData.referralCode;\n    let text;\n    if (user.current?.maiCircle) text = \"H\\xe4r f\\xe5r du en exklusiv inbjudan till Mai, som ger en extra fin start med tre kommissionsfria f\\xf6rs\\xe4ljningar.\";\n    else text = \"Jag bjuder in dig till Mai f\\xf6r att s\\xe4lja dina kl\\xe4der! G\\xe5 genom min l\\xe4nk f\\xf6r att f\\xe5 en extra kommissionsfri f\\xf6rs\\xe4ljning.\";\n    if (navigator.share) navigator.share({\n        text: text,\n        url: `https://invite.maiapp.se/refer?invite=${code}`\n    }).then(()=>{\n        console.log('Thanks for sharing!');\n    }).catch((e)=>{\n        console.error(e);\n        errorHandler.report(e);\n    });\n    else {\n        console.log(\"Browser doesn't support navigator.share => Copy to clipboard!\");\n        const shareText = text + \"\\n\" + `https://invite.maiapp.se/refer?invite=${code}`;\n        navigator.clipboard.writeText(shareText);\n        linkCopiedBanner.style.display = 'flex';\n        setTimeout(function() {\n            linkCopiedBanner.style.display = 'none';\n        }, 1500);\n    }\n}\nfunction channelRouter(webpath) {\n    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n    if (isIOS) showChannelBottomSheet(webpath);\n    else window.location.href = webpath;\n}\nfunction showChannelBottomSheet(webpath) {\n    document.getElementById('continueOnWebBottomSheet').href = window.location.origin + webpath;\n    document.getElementById('darkOverlay').classList.add('active');\n    document.getElementById('channelBottomSheet').classList.add('active');\n}\nfunction hideChannelBottomSheet() {\n    document.getElementById('darkOverlay').classList.remove('active');\n    document.getElementById('channelBottomSheet').classList.remove('active');\n}\nfunction animateOpenToast(elementId) {\n    const element = document.getElementById(elementId);\n    if (element) {\n        // Set initial position below screen\n        element.style.transform = 'translateY(100%)';\n        element.style.transition = 'transform 0.3s ease-out';\n        element.style.display = 'block';\n        // Animate to visible position\n        setTimeout(()=>{\n            element.style.transform = 'translateY(0%)';\n        }, 10);\n        document.getElementById(\"darkOverlay\").classList.add(\"active\");\n    }\n}\nfunction animateCloseToast(elementId) {\n    const element = document.getElementById(elementId);\n    // Add the visibility check here\n    if (!element || element.style.display === 'none') return;\n    // Animate down and hide\n    element.style.transform = 'translateY(100%)';\n    element.style.transition = 'transform 0.3s ease-in';\n    // Hide after animation completes\n    setTimeout(()=>{\n        element.style.display = 'none';\n    }, 300);\n    document.getElementById(\"darkOverlay\").classList.remove(\"active\");\n}\nfunction hideInfoRequestCard(elementId) {\n    const bidRequestElement = document.getElementById(elementId);\n    if (bidRequestElement) {\n        bidRequestElement.style.display = 'none';\n        // Check if there are any remaining visible cards\n        const infoRequestsList = document.getElementById('infoRequestsList');\n        if (infoRequestsList) {\n            const visibleCards = infoRequestsList.querySelectorAll('[id^=\"infoRequest\"]:not([style*=\"display: none\"])');\n            if (visibleCards.length === 0) {\n                const infoRequestsDiv = document.getElementById('infoRequestsDiv');\n                if (infoRequestsDiv) infoRequestsDiv.style.display = 'none';\n            }\n        }\n    }\n}\n\n},{\"@parcel/transformer-js/src/esmodule-helpers.js\":\"bNgzC\"}],\"bNgzC\":[function(require,module,exports,__globalThis) {\nexports.interopDefault = function(a) {\n    return a && a.__esModule ? a : {\n        default: a\n    };\n};\nexports.defineInteropFlag = function(a) {\n    Object.defineProperty(a, '__esModule', {\n        value: true\n    });\n};\nexports.exportAll = function(source, dest) {\n    Object.keys(source).forEach(function(key) {\n        if (key === 'default' || key === '__esModule' || Object.prototype.hasOwnProperty.call(dest, key)) return;\n        Object.defineProperty(dest, key, {\n            enumerable: true,\n            get: function() {\n                return source[key];\n            }\n        });\n    });\n    return dest;\n};\nexports.export = function(dest, destName, get) {\n    Object.defineProperty(dest, destName, {\n        enumerable: true,\n        get: get\n    });\n};\n\n},{}]},[\"ar62u\"], \"ar62u\", \"parcelRequire81ca\", {})\n\n//# sourceMappingURL=home.js.map\n","import { itemCoverImage } from \"./general\";\n\nfunction startAutoScroll(itemListElement) {\n  if (!itemListElement) return;\n  \n  let autoScrollActive = true;\n  let animationFrameId = null;\n  let isProgrammaticScroll = false;\n  let lastScrollLeft = itemListElement.scrollLeft;\n  const scrollSpeed = 0.5; // pixels per frame (adjust for speed)\n  \n  // Check if there's content to scroll\n  const maxScroll = itemListElement.scrollWidth - itemListElement.clientWidth;\n  if (maxScroll <= 0) return; // No scrolling needed\n  \n  const autoScroll = () => {\n    if (!autoScrollActive) return;\n    \n    const currentScroll = itemListElement.scrollLeft;\n    const maxScroll = itemListElement.scrollWidth - itemListElement.clientWidth;\n    \n    // Stop if we've reached the end\n    if (currentScroll >= maxScroll - 1) {\n      return;\n    }\n    \n    // Scroll to the right programmatically\n    isProgrammaticScroll = true;\n    itemListElement.scrollLeft += scrollSpeed;\n    lastScrollLeft = itemListElement.scrollLeft;\n    isProgrammaticScroll = false;\n    animationFrameId = requestAnimationFrame(autoScroll);\n  };\n  \n  // Pause auto-scroll on user interaction\n  const pauseAutoScroll = () => {\n    autoScrollActive = false;\n    if (animationFrameId) {\n      cancelAnimationFrame(animationFrameId);\n      animationFrameId = null;\n    }\n  };\n  \n  // Detect user scroll (when scroll position changes without our programmatic scroll)\n  const handleScroll = () => {\n    if (isProgrammaticScroll) {\n      lastScrollLeft = itemListElement.scrollLeft;\n      return;\n    }\n    \n    const currentScrollLeft = itemListElement.scrollLeft;\n    // If scroll changed and it wasn't our programmatic scroll, user is interacting\n    if (Math.abs(currentScrollLeft - lastScrollLeft) > scrollSpeed * 1.5) {\n      pauseAutoScroll();\n      itemListElement.removeEventListener('scroll', handleScroll);\n    } else {\n      lastScrollLeft = currentScrollLeft;\n    }\n  };\n  \n  // Listen for direct user interactions (these immediately pause)\n  itemListElement.addEventListener('touchstart', pauseAutoScroll, { once: true });\n  itemListElement.addEventListener('mousedown', pauseAutoScroll, { once: true });\n  itemListElement.addEventListener('wheel', pauseAutoScroll, { once: true });\n  itemListElement.addEventListener('scroll', handleScroll);\n  \n  // Start auto-scroll after a short delay to ensure content is rendered\n  setTimeout(() => {\n    if (autoScrollActive) {\n      lastScrollLeft = itemListElement.scrollLeft;\n      animationFrameId = requestAnimationFrame(autoScroll);\n    }\n  }, 500);\n}\n\nfunction loadRecentlySold() {\n  const recentlySoldItems = callBackendApi(\"/api/items/recentlySold\");\n\n  recentlySoldItems\n    .then((result) => {\n      // Read result of the Cloud Function.\n      const itemListRecentlySold1 = document.getElementById(\n        \"itemListRecentlySold1\"\n      );\n      itemListRecentlySold1.innerHTML = \"\";\n      const itemListRecentlySoldStartPageDesktop = document.getElementById(\n        \"itemListRecentlySoldStartPageDesktop\"\n      );\n      itemListRecentlySoldStartPageDesktop.innerHTML = \"\";\n\n      result.data.forEach((item, index) => {\n        const brand = item.brand;\n        const soldPrice = item.soldPrice;\n        const soldDate = new Date(item.soldDate);\n        const publishedDate = new Date(item.publishedDate);\n        const imageUrl = itemCoverImage(item);\n        const daysToSold = Math.floor(\n          (soldDate.getTime() - publishedDate.getTime()) / (1000 * 3600 * 24)\n        );\n        if (soldPrice >= 180 || daysToSold <= 20) {\n          const itemCardHTML = `<div class=\"item-card-recently-sold\"><div class=\"ratio-box _16-9\"><div class=\"content-block with-image\">\n                        <div class=\"img-container\" style=\"background-image: url('${imageUrl}');\"></div></div></div>\n                        <div>\n                        <div>${brand}</div>\n                        <div>Sld fr ${soldPrice} kr</div>\n                        </div>\n                        </div>`;\n          itemListRecentlySold1.innerHTML += itemCardHTML;\n          itemListRecentlySoldStartPageDesktop.innerHTML += itemCardHTML;\n        }\n      });\n      \n      // Start auto-scroll after items are loaded\n      startAutoScroll(itemListRecentlySold1);\n    })\n    .catch((error) => {\n      errorHandler.report(error);\n      // Getting the Error details.\n      var code = error.code;\n      var message = error.message;\n      console.log(\"Error message: \", message, code);\n    });\n  // [END fb_functions_call_add_message_error]\n}\n\nasync function fetchAndLoadRecentlyAddedItems() {\n  try {\n    const response = await callBackendApi(\"/api/shopify/recentlyAddedItems\");\n    const itemList = document.getElementById(\"ItemListRecentlyAddedItems\");\n    const itemListDesktop = document.getElementById(\n      \"ItemListRecentlyAddedItemsDesktop\"\n    );\n    itemList.innerHTML = \"\";\n    itemListDesktop.innerHTML = \"\";\n\n    for (const item of response.data) {\n      const itemCardHTML = `<div class=\"div-block-14-big\"><a href=\"${item.url}\"/><div class=\"ratio-box _16-9\"><div class=\"content-block with-image\">\n                        <div class=\"img-container\" style=\"background-image: url('${item.image}')\"></div></div></div>\n                        <div class=\"recently-added-text-block\">\n                            <div class=\"recent-added-items-subheader\">${item.brand}</div>\n                            <div class=\"recent-added-items-subheader-category\">${item.category}</div>\n                            <div class=\"recently-added-price\">${item.currentPrice} kr</div>\n                        </div><a/></div>`;\n      itemList.innerHTML += itemCardHTML;\n      const desktopCardHTML = itemCardHTML.replace(\"14-big\", \"14-big-desktop\");\n      itemListDesktop.innerHTML += desktopCardHTML;\n    }\n  } catch (e) {\n    errorHandler.report(e);\n    console.log(\"error\", e);\n  }\n}\n\nconst trackHowItWorksInteractions = () => {\n  const howItWorksDiv = document.getElementById(\"howItWorksDiv\");\n  new IntersectionObserver(\n    (entries, observer) => {\n      if (!entries[0].isIntersecting) return;\n      analytics.track(\"Element Viewed\", { elementID: \"howItWorksSlide1\" });\n      observer.disconnect();\n    },\n    { rootMargin: \"0px 0px -600px 0px\" }\n  ).observe(howItWorksDiv);\n  new MutationObserver((mutationList) => {\n    const mutatedElement = mutationList.find(\n      (rec) => rec.type === \"attributes\" && rec.attributeName === \"aria-hidden\"\n    );\n    if (\n      mutatedElement &&\n      mutatedElement.oldValue &&\n      !mutatedElement.target[\"aria-hidden\"]\n    ) {\n      analytics.track(\"Element Viewed\", {\n        elementID: `howItWorksSlide${mutatedElement.target.ariaLabel.slice(\n          0,\n          1\n        )}`,\n      });\n    }\n  }).observe(howItWorksDiv, {\n    attributeFilter: [\"aria-hidden\"],\n    attributeOldValue: true,\n    subtree: true,\n  });\n};\n\nfunction showNoCommissionCampaign() {\n  const noCommissionCampaignDiv = document.getElementById(\n    \"noCommissionCampaign\"\n  );\n  analytics.track(\"Element Viewed\", { elementID: \"noCommissionCampaign\" });\n  noCommissionCampaignDiv.style.display = \"block\";\n  document.getElementById(\"noCommissionAd\").style.display = \"block\";\n  let sellItemCtaButton = document.getElementById(\"sellItemCtaButton\");\n  if (sellItemCtaButton.getBoundingClientRect().y < -47) {\n    noCommissionCampaignDiv.style.top = \"0px\";\n  }\n  new IntersectionObserver(\n    (entries, observer) => {\n      noCommissionCampaignDiv.style.top =\n        document.getElementById(\"sellItemCtaButton\").getBoundingClientRect().y >\n        -47\n          ? \"-80px\"\n          : \"0px\";\n    },\n    { rootMargin: \"0px 0px -100%\", root: null }\n  ).observe(document.getElementById(\"ctaSection\"));\n  new IntersectionObserver(\n    (entries, observer) => {\n      if (!entries[0].isIntersecting) return;\n      analytics.track(\"Element Viewed\", {\n        elementID: \"noCommissionCampaignAd\",\n      });\n      observer.disconnect();\n    },\n    { rootMargin: \"0px 0px -370px 0px\" }\n  ).observe(document.getElementById(\"noCommissionAd\"));\n}\n\nfunction noCommissionCampaign() {\n  const cookieName = \"noCommissionCampaignCookie\";\n  const cookie = getCookie(cookieName);\n  const random = Math.random();\n  const dateNow = new Intl.DateTimeFormat(\"se-SV\").format(new Date());\n  const campaignDateOk = dateNow >= \"2024-08-12\" && dateNow <= \"2024-08-18\";\n  if (campaignDateOk) {\n    showNoCommissionCampaign();\n    setCookie(cookieName, \"noCommission\", 7);\n  }\n  /*\n  //A/B test code\n  if (campaignDateOk && (cookie === 'noCommission' || (!cookie.length && random > 0.5))) {\n    showNoCommissionCampaign();\n    setCookie(cookieName, 'noCommission', 7);\n  } else if (campaignDateOk && !cookie.length && random <= 0.5) {\n    setCookie(cookieName, 'commission', 7);\n  }\n  */\n}\n\n// Channel bottom sheet\nfunction showChannelBottomSheet(webpath) {\n  document.getElementById(\"continueOnWebBottomSheet\").href =\n    window.location.origin + webpath;\n  document.getElementById(\"darkOverlay\").classList.add(\"active\");\n  document.getElementById(\"channelBottomSheet\").classList.add(\"active\");\n}\n\nfunction channelRouter(webpath) {\n  if (isIos) {\n    showChannelBottomSheet(webpath);\n  } else {\n    window.location.href = webpath;\n  }\n}\n\ndocument\n  .getElementById(\"sellItemCtaButton\")\n  .addEventListener(\"click\", () => channelRouter(\"/sell-item\"));\ndocument\n  .getElementById(\"stickySellItemButton\")\n  .addEventListener(\"click\", () => channelRouter(\"/sell-item\"));\ndocument\n  .getElementById(\"headerLoginButton\")\n  .addEventListener(\"click\", () => channelRouter(\"/sign-in\"));\n\n  const menuLoginButton = document.getElementById(\"menuLoginButton\");\nif (menuLoginButton) {\n  menuLoginButton.addEventListener(\"click\", () => {\n    closeMenuWithAnimation();\n    channelRouter(\"/sign-in\");\n  });\n}\n\n// Menu Sell Item button - close menu and navigate to sell-item page\nconst menuSellItemButton = document.getElementById(\"menuSellItemButton\");\nif (menuSellItemButton) {\n  menuSellItemButton.addEventListener(\"click\", () => {\n    closeMenuWithAnimation();\n    channelRouter(\"/sell-item\");\n  });\n}\n\n// Menu fade animations\nconst menuButton = document.getElementById(\"menuButton\");\nconst closeMenuButton = document.getElementById(\"closeMenuButton\");\n\n// Reusable function to close menu with fade animation\nfunction closeMenuWithAnimation(e) {\n  if (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  \n  const menu = document.getElementById('menu');\n  if (menu) {\n    // Ensure menu is visible and transition is set before animating\n    menu.style.display = 'block';\n    menu.style.transition = 'opacity 0.3s ease-in-out';\n    // Trigger reflow to ensure transition is applied\n    menu.offsetHeight;\n    // Start fade out\n    menu.style.opacity = '0';\n    // Hide menu after animation completes\n    setTimeout(() => {\n      menu.style.display = 'none';\n    }, 300);\n  }\n}\n\nif (menuButton) {\n  menuButton.addEventListener(\"click\", function () {\n    // Fade in menu animation\n    const menu = document.getElementById('menu');\n    if (menu) {\n      menu.style.display = 'block';\n      menu.style.opacity = '0';\n      menu.style.transition = 'opacity 0.3s ease-in-out';\n      // Trigger reflow to ensure initial opacity is applied\n      menu.offsetHeight;\n      menu.style.opacity = '1';\n    }\n  });\n}\n\nif (closeMenuButton) {\n  closeMenuButton.addEventListener(\"click\", closeMenuWithAnimation);\n}\n\n// Menu Chat button - close menu and open Intercom\nconst menuChatButton = document.getElementById(\"menuChatButton\");\nif (menuChatButton) {\n  menuChatButton.addEventListener(\"click\", () => {\n    // Close menu with animation\n    closeMenuWithAnimation();\n    // Open Intercom chat\n    Intercom('show');\n  });\n}\n\n// Menu FAQ button - close menu and scroll to FAQ section\nconst menuFaqButton = document.getElementById(\"menuFaqButton\");\nif (menuFaqButton) {\n  menuFaqButton.addEventListener(\"click\", function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    // Close menu with animation\n    closeMenuWithAnimation();\n    \n    // Wait for menu animation to start, then scroll to FAQ with 50px offset\n    setTimeout(() => {\n      const faqSection = document.getElementById('faq');\n      if (faqSection) {\n        const elementPosition = faqSection.getBoundingClientRect().top;\n        const offsetPosition = elementPosition + window.pageYOffset - 50;\n        window.scrollTo({\n          top: offsetPosition,\n          behavior: 'smooth'\n        });\n      }\n    }, 50);\n  });\n}\n\nfunction hideChannelBottomSheet() {\n  document.getElementById(\"darkOverlay\").classList.remove(\"active\");\n  document.getElementById(\"channelBottomSheet\").classList.remove(\"active\");\n}\n\ndocument\n  .getElementById(\"darkOverlay\")\n  .addEventListener(\"click\", hideChannelBottomSheet);\ndocument\n  .getElementById(\"closeChannelBottomSheet\")\n  .addEventListener(\"click\", hideChannelBottomSheet);\n// End of channel bottom sheet\n\nfunction showDownloadAppLink() {\n  const elm = document.getElementById(\"downloadAppLink\");\n  elm.style.display = \"flex\";\n}\n\nauthUser.whenSet(signedInNextStep);\nloadRecentlySold();\nfetchAndLoadRecentlyAddedItems();\ntrackHowItWorksInteractions();\nnoCommissionCampaign();\nif (isIos) {\n  showDownloadAppLink();\n}\n\n// Set attribution cookies (could be put on any campaign page)\ncheckCookie(\"utm_campaign\");\ncheckCookie(\"utm_source\");\ncheckCookie(\"utm_medium\");\ncheckCookie(\"utm_term\");\ncheckCookie(\"utm_content\");\n\n// Set invite code cookie\nconst inviteCode = checkCookie(\"invite\");\nif (inviteCode) {\n  referralCodeText.innerHTML = inviteCode;\n  activeCode.style.display = \"flex\";\n}\n\nwindow.intercomSettings = {\n  app_id: \"klyy0le5\",\n};\n(function () {\n  var w = window;\n  var ic = w.Intercom;\n  if (typeof ic === \"function\") {\n    ic(\"reattach_activator\");\n    ic(\"update\", w.intercomSettings);\n  } else {\n    var d = document;\n    var i = function () {\n      i.c(arguments);\n    };\n    i.q = [];\n    i.c = function (args) {\n      i.q.push(args);\n    };\n    w.Intercom = i;\n    var l = function () {\n      var s = d.createElement(\"script\");\n      s.type = \"text/javascript\";\n      s.async = true;\n      s.src = \"https://widget.intercom.io/widget/klyy0le5\";\n      var x = d.getElementsByTagName(\"script\")[0];\n      x.parentNode.insertBefore(s, x);\n    };\n    if (w.attachEvent) {\n      w.attachEvent(\"onload\", l);\n    } else {\n      w.addEventListener(\"load\", l, false);\n    }\n  }\n})();\n","export async function signOut() {\n    try {\n        try {\n          // Delete session cookie\n          await callBackendApi('/api/users/session', {\n            method: \"DELETE\",\n            fetchInit: { credentials: \"include\" },\n          });\n        } catch (error) {\n          console.warn(\"[SSO] Error clearing session cookie:\", error);\n          errorHandler.report(error);\n        }\n        await firebase.auth().signOut();\n        console.log('User signed out');\n        authUser.current = null;\n        user.current = null;\n        userId = null;\n        localStorage.removeItem('sessionUser');\n        localStorage.removeItem('idToken');\n        localStorage.removeItem('authUserId');\n        localStorage.removeItem('authUser');\n        deleteCookie('maiAuth');\n\n\n        location.href = '/';\n    } catch (error) {\n        errorHandler.report(error);\n        console.log(error);\n    }\n}\n\nexport function setFormAddressFields(user) {\n    document.getElementById(\"addressFirstName\").value = user.addressFirstName || '';\n    document.getElementById(\"addressFirstName\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressLastName\").value = user.addressLastName || '';\n    document.getElementById(\"addressLastName\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressStreetAddress\").value = user.addressStreetAddress || '';\n    document.getElementById(\"addressStreetAddress\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressCO\").value = user.addressCO || '';\n    document.getElementById(\"addressCO\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressPostalCode\").value = user.addressPostalCode || '';\n    document.getElementById(\"addressPostalCode\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressCity\").value = user.addressCity || '';\n    document.getElementById(\"addressCity\").dispatchEvent(new Event('input'));\n    document.getElementById(\"addressDoorCode\").value = user.addressDoorCode || '';\n    document.getElementById(\"addressDoorCode\").dispatchEvent(new Event('input'));\n}\nexport function getFormAddressFields() {\n    let addressFirstName = document.getElementById(\"addressFirstName\").value;\n    let addressLastName = document.getElementById(\"addressLastName\").value;\n    let addressStreetAddress = document.getElementById(\"addressStreetAddress\").value;\n    let addressCO = document.getElementById(\"addressCO\").value;\n    let addressPostalCode = document.getElementById(\"addressPostalCode\").value;\n    let addressCity = document.getElementById(\"addressCity\").value;\n    let addressDoorCode = document.getElementById(\"addressDoorCode\").value;\n\n    addressFirstName = addressFirstName ? addressFirstName.trim().charAt(0).toUpperCase() + addressFirstName.trim().slice(1) : \"\";\n    addressLastName = addressLastName ? addressLastName.trim().charAt(0).toUpperCase() + addressLastName.trim().slice(1) : \"\";\n    addressStreetAddress = addressStreetAddress ? addressStreetAddress.trim().charAt(0).toUpperCase() + addressStreetAddress.trim().slice(1) : \"\";\n    addressCO = addressCO ? addressCO.trim() : \"\";\n    addressPostalCode = addressPostalCode ? addressPostalCode.trim().replace(/\\D/g, '') : \"\";\n    addressCity = addressCity ? addressCity.trim().charAt(0).toUpperCase() + addressCity.trim().slice(1) : \"\";\n    addressDoorCode = addressDoorCode ? addressDoorCode.trim() : \"\";\n    return { addressFirstName, addressLastName, addressStreetAddress, addressCO, addressPostalCode, addressCity, addressDoorCode };\n}\n\n\n// Validate Swedish Social Security Number (personnummer) using checksum\n//   Note: this is somewhat simplified because it does not take into account\n//   that the date of the number is valid (e.g. \"000000-0000\" does return as true)\nexport function isValidSwedishSsn(ssn) {\n    ssn = ssn\n        .replace(/\\D/g, \"\")     // strip out all but digits\n        .split(\"\")              // convert string to array\n        .reverse()              // reverse order for Luhn\n        .slice(0, 10);          // keep only 10 digits (i.e. 1977 becomes 77)\n\n    // verify we got 10 digits, otherwise it is invalid\n    if (ssn.length !== 10) {\n        return false;\n    }\n    const sum = ssn.map((n) => Number(n))\n        .reduce((previous, current, index) => {\n            if (index % 2) current *= 2;\n            if (current > 9) current -= 9;\n            return previous + current;\n        });\n    return 0 === sum % 10;\n}\n\n\nexport function formatPersonalId(personalIdInput) {\n    let personalId = personalIdInput.replace('-', '');\n    if (personalId.length !== 12 && (personalId.substring(0, 2) !== '19' || personalId.substring(0, 2) !== '20')) {\n        if (Number(personalId.substring(0, 2)) <= 99 && Number(personalId.substring(0, 2)) > 25) {\n            personalId = \"19\" + personalId;\n        } else {\n            personalId = \"20\" + personalId;\n        }\n    }\n    if (personalId.length === 12) {\n        return personalId;\n    }\n    return null;\n}\n\nexport function itemCoverImage(item) {\n  if (item.images) {\n    const images = item.images;\n    return images.modelImageSmall || images.modelImage || images.coverImageSmall || images.coverImage || images.enhancedFrontImageSmall || images.enhancedFrontImage || images.frontImageSmall || images.frontImage;\n  } else if (item.imagesv2) {\n    const priorityOrder = ['modelImage', 'enhancedFrontImage', 'frontImage'];\n    for (const name of priorityOrder) {\n      const image = item.imagesv2.find(img => img.name === name);\n      if (image) {\n        if (image?.versions?.small) return image.versions.small;\n        if (image?.versions?.medium) return image.versions.medium;\n        if (image?.versions?.large) return image.versions.large;\n        if (image.url) return image.url;\n      }\n    }\n  }\n  return null;\n}\n\nexport function shareCode() {\n    const code = user.current.referralData.referralCode;\n    let text;\n    if (user.current?.maiCircle) {\n        text = \"Hr fr du en exklusiv inbjudan till Mai, som ger en extra fin start med tre kommissionsfria frsljningar.\";\n    } else {\n        text = \"Jag bjuder in dig till Mai fr att slja dina klder! G genom min lnk fr att f en extra kommissionsfri frsljning.\";\n    }\n    if (navigator.share) {\n        navigator.share({\n            text: text,\n            url: `https://invite.maiapp.se/refer?invite=${code}`\n        }).then(() => { console.log('Thanks for sharing!'); }).catch((e) => {\n            console.error(e);\n            errorHandler.report(e);\n        });\n    } else {\n        console.log(\"Browser doesn't support navigator.share => Copy to clipboard!\");\n        const shareText = text + \"\\n\" + `https://invite.maiapp.se/refer?invite=${code}`;\n        navigator.clipboard.writeText(shareText);\n        linkCopiedBanner.style.display = 'flex';\n        setTimeout(function () { linkCopiedBanner.style.display = 'none'; }, 1500);\n    }\n}\n\n// Channel bottom sheet\nexport function channelRouter(webpath){\n  const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n  if (isIOS) {\n    showChannelBottomSheet(webpath)\n  } else {\n    window.location.href = webpath;\n  }\n}\n\nfunction showChannelBottomSheet(webpath){\n  document.getElementById('continueOnWebBottomSheet').href = window.location.origin + webpath;\n  document.getElementById('darkOverlay').classList.add('active');\n  document.getElementById('channelBottomSheet').classList.add('active');\n}\n\nexport function hideChannelBottomSheet(){\n  document.getElementById('darkOverlay').classList.remove('active');\n  document.getElementById('channelBottomSheet').classList.remove('active');\n}\n// End of channel bottom sheet\n\n// Toast animation functions\nexport function animateOpenToast(elementId) {\n  const element = document.getElementById(elementId);\n  if (element) {\n    // Set initial position below screen\n    element.style.transform = 'translateY(100%)';\n    element.style.transition = 'transform 0.3s ease-out';\n    element.style.display = 'block';\n\n    // Animate to visible position\n    setTimeout(() => {\n      element.style.transform = 'translateY(0%)';\n    }, 10);\n    document.getElementById(\"darkOverlay\").classList.add(\"active\");\n  }\n}\n\nexport function animateCloseToast(elementId) {\n  const element = document.getElementById(elementId);\n\n  // Add the visibility check here\n  if (!element || element.style.display === 'none') {\n    return;\n  }\n\n  // Animate down and hide\n  element.style.transform = 'translateY(100%)';\n  element.style.transition = 'transform 0.3s ease-in';\n\n  // Hide after animation completes\n  setTimeout(() => {\n    element.style.display = 'none';\n  }, 300);\n\n  document.getElementById(\"darkOverlay\").classList.remove(\"active\");\n}\n\nexport function hideInfoRequestCard(elementId) {\n  const bidRequestElement = document.getElementById(elementId);\n  if (bidRequestElement) {\n    bidRequestElement.style.display = 'none';\n\n    // Check if there are any remaining visible cards\n    const infoRequestsList = document.getElementById('infoRequestsList');\n    if (infoRequestsList) {\n      const visibleCards = infoRequestsList.querySelectorAll('[id^=\"infoRequest\"]:not([style*=\"display: none\"])');\n      if (visibleCards.length === 0) {\n        const infoRequestsDiv = document.getElementById('infoRequestsDiv');\n        if (infoRequestsDiv) {\n          infoRequestsDiv.style.display = 'none';\n        }\n      }\n    }\n  }\n}\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n"],"names":["modules","entry","mainEntry","parcelRequireName","externals","distDir","publicUrl","devServer","globalObject","globalThis","self","window","global","previousRequire","importMap","i","cache","nodeRequire","module","require","bind","newRequire","name","jumped","currentRequire","err","Error","code","localRequire","resolve","x","id","Module","call","exports","res","Array","isArray","m","__esModule","forEach","v","key","exp","Object","keys","prototype","hasOwnProperty","defineProperty","enumerable","get","value","default","isParcelRequire","moduleName","bundle","parent","register","length","mainExports","define","amd","__globalThis","howItWorksDiv","_general","fetchAndLoadRecentlyAddedItems","response","callBackendApi","itemList","document","getElementById","itemListDesktop","item","innerHTML","data","itemCardHTML","url","image","brand","category","currentPrice","desktopCardHTML","replace","e","errorHandler","report","console","log","channelRouter","webpath","isIos","href","location","origin","classList","add","addEventListener","menuLoginButton","closeMenuWithAnimation","menuSellItemButton","menuButton","closeMenuButton","preventDefault","stopPropagation","menu","style","display","transition","offsetHeight","opacity","setTimeout","menuChatButton","Intercom","menuFaqButton","hideChannelBottomSheet","remove","faqSection","offsetPosition","elementPosition","getBoundingClientRect","top","pageYOffset","scrollTo","behavior","authUser","whenSet","signedInNextStep","recentlySoldItems","then","result","itemListRecentlySold1","itemListRecentlySoldStartPageDesktop","index","soldPrice","soldDate","Date","publishedDate","imageUrl","itemCoverImage","daysToSold","Math","floor","getTime","startAutoScroll","itemListElement","autoScrollActive","animationFrameId","isProgrammaticScroll","lastScrollLeft","scrollLeft","maxScroll","scrollWidth","clientWidth","autoScroll","requestAnimationFrame","pauseAutoScroll","cancelAnimationFrame","handleScroll","currentScrollLeft","abs","scrollSpeed","removeEventListener","once","catch","error","message","IntersectionObserver","entries","observer","isIntersecting","analytics","track","elementID","disconnect","rootMargin","observe","MutationObserver","mutationList","mutatedElement","find","rec","type","attributeName","oldValue","target","ariaLabel","slice","attributeFilter","attributeOldValue","subtree","cookieName","getCookie","dateNow","Intl","DateTimeFormat","format","noCommissionCampaignDiv","sellItemCtaButton","y","root","setCookie","elm","checkCookie","inviteCode","referralCodeText","activeCode","intercomSettings","app_id","w","ic","d","c","arguments","q","args","push","l","s","createElement","async","src","getElementsByTagName","parentNode","insertBefore","attachEvent","parcelHelpers","signOut","method","fetchInit","credentials","warn","firebase","auth","current","user","userId","localStorage","removeItem","deleteCookie","setFormAddressFields","user1","addressFirstName","dispatchEvent","Event","addressLastName","addressStreetAddress","addressCO","addressPostalCode","addressCity","addressDoorCode","getFormAddressFields","trim","charAt","toUpperCase","isValidSwedishSsn","ssn","split","reverse","sum","map","n","Number","reduce","previous","formatPersonalId","personalIdInput","personalId","substring","images","modelImageSmall","modelImage","coverImageSmall","coverImage","enhancedFrontImageSmall","enhancedFrontImage","frontImageSmall","frontImage","imagesv2","img","versions","small","medium","large","shareCode","text","referralData","referralCode","maiCircle","navigator","share","shareText","clipboard","writeText","linkCopiedBanner","test","userAgent","MSStream","animateOpenToast","elementId","element","transform","animateCloseToast","hideInfoRequestCard","bidRequestElement","infoRequestsList","visibleCards","querySelectorAll","infoRequestsDiv","defineInteropFlag","export","interopDefault","a","exportAll","source","dest","destName"],"version":3,"file":"home.js.map"}