{"mappings":"C,A,S,C,C,C,C,C,C,C,C,C,E,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,A,Y,O,C,C,E,E,C,C,E,C,E,E,K,E,C,E,E,A,a,O,Q,A,Y,O,O,O,E,O,O,C,I,C,Q,S,E,C,C,C,E,G,C,C,C,E,C,C,G,C,C,C,E,C,C,I,E,A,Y,O,C,C,E,E,C,C,E,C,G,C,G,E,O,E,E,C,G,G,E,O,E,E,C,G,G,G,A,U,O,E,O,E,G,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,O,C,S,C,E,I,E,C,C,E,C,E,C,E,C,O,A,M,E,E,C,E,E,K,C,C,E,I,E,C,C,E,C,I,E,M,C,G,C,C,E,C,E,C,I,C,E,O,C,E,E,E,O,C,I,C,C,O,C,C,E,C,O,C,S,E,C,E,I,E,E,O,C,G,M,A,C,I,E,C,E,E,E,C,C,E,e,C,C,E,E,M,C,S,C,E,I,C,E,C,E,I,C,M,C,E,I,C,O,C,C,C,E,E,O,C,E,E,K,C,E,E,M,C,E,E,Q,C,S,C,C,C,E,C,C,E,C,C,S,C,C,C,E,E,O,C,C,E,C,E,A,E,O,c,C,E,O,C,I,W,O,C,C,E,A,C,G,C,C,E,C,E,I,I,E,E,E,E,M,C,I,E,C,C,E,E,G,E,C,I,E,E,E,A,C,U,O,S,A,a,O,O,O,O,C,E,A,Y,O,Q,O,G,C,O,W,O,C,G,G,C,I,C,E,C,C,C,C,E,C,M,C,S,C,C,C,C,C,ECAA,SAAS,EAAU,CAAK,EAMpB,MAAO,AALS,CAAA,CACZ,MAAO,QAAS,KAAM,MAAO,MAAO,OAAQ,MAAO,OAAQ,KAAM,MAAO,OAAQ,MAAO,KAAM,OAC7F,OAAQ,OAAQ,KAAM,OAAQ,OAAQ,SAAU,KAAM,OAAQ,IAAK,MAAO,OAAQ,SAAU,MAAO,QACnG,UAAW,SAAU,SAAU,SAAU,MAAO,MAAO,YAAa,YACxE,CAAA,CACc,CAAC,EAAM,EAAI,CAC7B,CA2EA,IAAM,EAAU,MAAO,IACnB,IAAM,EAAM,MAAM,eAAe,CAAC,WAAW,EAAE,EAAO,CAAC,EACvD,MAAO,CAAE,GAAI,GAAK,MAAQ,CAAC,CAAC,CAAG,GAAI,CAAO,CAC9C,EAcA,AAZa,CAAA,UACT,IAAM,EAAS,kBACT,EAAO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","sources":["<anon>","itemConfirmation.js"],"sourcesContent":["// modules are defined as an array\n// [ module function, map of requires ]\n//\n// map of requires is short require name -> numeric require\n//\n// anything defined in a previous bundle is accessed via the\n// orig method which is the require for previous bundles\n\n(function (modules, entry, mainEntry, parcelRequireName, globalName) {\n  /* eslint-disable no-undef */\n  var globalObject =\n    typeof globalThis !== 'undefined'\n      ? globalThis\n      : typeof self !== 'undefined'\n      ? self\n      : typeof window !== 'undefined'\n      ? window\n      : typeof global !== 'undefined'\n      ? global\n      : {};\n  /* eslint-enable no-undef */\n\n  // Save the require from previous bundle to this closure if any\n  var previousRequire =\n    typeof globalObject[parcelRequireName] === 'function' &&\n    globalObject[parcelRequireName];\n\n  var cache = previousRequire.cache || {};\n  // Do not use `require` to prevent Webpack from trying to bundle this call\n  var nodeRequire =\n    typeof module !== 'undefined' &&\n    typeof module.require === 'function' &&\n    module.require.bind(module);\n\n  function newRequire(name, jumped) {\n    if (!cache[name]) {\n      if (!modules[name]) {\n        // if we cannot find the module within our internal map or\n        // cache jump to the current global require ie. the last bundle\n        // that was added to the page.\n        var currentRequire =\n          typeof globalObject[parcelRequireName] === 'function' &&\n          globalObject[parcelRequireName];\n        if (!jumped && currentRequire) {\n          return currentRequire(name, true);\n        }\n\n        // If there are other bundles on this page the require from the\n        // previous one is saved to 'previousRequire'. Repeat this as\n        // many times as there are bundles until the module is found or\n        // we exhaust the require chain.\n        if (previousRequire) {\n          return previousRequire(name, true);\n        }\n\n        // Try the node require function if it exists.\n        if (nodeRequire && typeof name === 'string') {\n          return nodeRequire(name);\n        }\n\n        var err = new Error(\"Cannot find module '\" + name + \"'\");\n        err.code = 'MODULE_NOT_FOUND';\n        throw err;\n      }\n\n      localRequire.resolve = resolve;\n      localRequire.cache = {};\n\n      var module = (cache[name] = new newRequire.Module(name));\n\n      modules[name][0].call(\n        module.exports,\n        localRequire,\n        module,\n        module.exports,\n        this\n      );\n    }\n\n    return cache[name].exports;\n\n    function localRequire(x) {\n      var res = localRequire.resolve(x);\n      return res === false ? {} : newRequire(res);\n    }\n\n    function resolve(x) {\n      var id = modules[name][1][x];\n      return id != null ? id : x;\n    }\n  }\n\n  function Module(moduleName) {\n    this.id = moduleName;\n    this.bundle = newRequire;\n    this.exports = {};\n  }\n\n  newRequire.isParcelRequire = true;\n  newRequire.Module = Module;\n  newRequire.modules = modules;\n  newRequire.cache = cache;\n  newRequire.parent = previousRequire;\n  newRequire.register = function (id, exports) {\n    modules[id] = [\n      function (require, module) {\n        module.exports = exports;\n      },\n      {},\n    ];\n  };\n\n  Object.defineProperty(newRequire, 'root', {\n    get: function () {\n      return globalObject[parcelRequireName];\n    },\n  });\n\n  globalObject[parcelRequireName] = newRequire;\n\n  for (var i = 0; i < entry.length; i++) {\n    newRequire(entry[i]);\n  }\n\n  if (mainEntry) {\n    // Expose entry point to Node, AMD or browser globals\n    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js\n    var mainExports = newRequire(mainEntry);\n\n    // CommonJS\n    if (typeof exports === 'object' && typeof module !== 'undefined') {\n      module.exports = mainExports;\n\n      // RequireJS\n    } else if (typeof define === 'function' && define.amd) {\n      define(function () {\n        return mainExports;\n      });\n\n      // <script>\n    } else if (globalName) {\n      this[globalName] = mainExports;\n    }\n  }\n})({\"YhYNY\":[function(require,module,exports) {\nfunction colorName(color) {\n    const mapping = {\n        Beige: \"Beige\",\n        Blue: \"Bl\\xe5\",\n        Brown: \"Brun\",\n        Green: \"Gr\\xf6n\",\n        Grey: \"Gr\\xe5\",\n        Yellow: \"Gul\",\n        Gold: \"Guld\",\n        Purple: \"Lila\",\n        Navy: \"Navy\",\n        Orange: \"Orange\",\n        Pink: \"Rosa\",\n        Red: \"R\\xf6d\",\n        Silver: \"Silver\",\n        Black: \"Svart\",\n        Turquoise: \"Turkos\",\n        Burgundy: \"Vinr\\xf6d\",\n        White: \"Vit\",\n        Multicolour: \"Flerf\\xe4rgad\"\n    };\n    return mapping[color] || color;\n}\nfunction initializeFields(item) {\n    const { humanCheckNeeded, maxPriceEstimate: mlMaxPriceEstimate, newMinMaxLog } = item.mlValuation || {};\n    if (item.infoRequests?.price?.response === \"User proposal\") {\n        document.getElementById(\"nextStepTitle\").style.display = \"block\";\n        document.getElementById(\"nextStepTitle\").innerText = \"Granskar pris\\xe4ndringar\";\n        document.getElementById(\"nextStepText\").innerText = \"Vi kikar p\\xe5 dina pris\\xe4ndringar, och om det ser bra ut s\\xe5 p\\xe5b\\xf6rjar vi f\\xf6rs\\xe4ljningen. Vi tar sedan hand om s\\xe4ljprocessen och h\\xf6r av oss p\\xe5 SMS n\\xe4r plagget \\xe4r s\\xe5lt.\";\n    } else if (humanCheckNeeded || !mlMaxPriceEstimate && !item.infoRequests?.price?.maxPrice || newMinMaxLog) {\n        document.getElementById(\"nextStepTitle\").style.display = \"block\";\n        document.getElementById(\"nextStepText\").innerText = `Ditt ${item.cleanedBrand || item.brand}-plagg beh\\xf6ver v\\xe4rderas manuellt, d\\xe5 AI-v\\xe4rderingen har l\\xe4gre tr\\xe4ffs\\xe4kerhet p\\xe5 detta varum\\xe4rke. Du kommer f\\xe5 ett SMS n\\xe4r vi v\\xe4rderat plagget som du kan ta st\\xe4llning till.`;\n    }\n    document.getElementById(\"itemTitle\").innerText = (item.cleanedBrand || item.brand).trim() + \"-\" + item.category.toLowerCase();\n    document.getElementById(\"itemPrice\").innerText = item.maxPriceEstimate && !humanCheckNeeded && !newMinMaxLog ? `${item.maxPriceEstimate || mlMaxPriceEstimate} SEK` : \"\";\n    document.getElementById(\"itemPrice\").style.display = \"block\";\n    document.getElementById(\"itemSubtitle\").innerText = item.model ? `${item.model}, ${colorName(item.color)}` : colorName(item.color);\n    document.getElementById(\"itemSize\").innerText = item.size;\n    document.getElementById(\"itemMaterial\").innerText = item.material;\n    document.getElementById(\"itemCondition\").innerText = item.condition = itemConditionText(item);\n    if (item.originalPrice) {\n        itemOriginalPrice.innerText = item.originalPrice + \" SEK\";\n        originalPriceDiv.style.display = \"flex\";\n    }\n    if (item.userComment) {\n        document.getElementById(\"itemComment\").innerText = item.userComment;\n        document.getElementById(\"itemCommentDiv\").style.display = \"block\";\n    }\n    if (item?.platformsToBePublishedOn?.length) initializePlatforms(item);\n    else document.getElementById(\"platformsSection\").style.display = \"none\";\n}\nfunction initializePlatforms(item) {\n    if (item?.platformsToBePublishedOn?.length < 2) {\n        document.getElementById(\"platformsSection\").style.display = \"none\";\n        return;\n    }\n    const platformNode = document.getElementById(\"platformTradera\");\n    item.platformsToBePublishedOn.forEach((platform)=>{\n        if (platform.match(/Tradera/)) return; // Tradera is set statically in Webflow and always displayed\n        const newNode = platformNode.cloneNode(true);\n        newNode.id = platform;\n        newNode.innerText = platform;\n        platformNode.parentNode.appendChild(newNode);\n    });\n    document.getElementById(\"platformsLoadingDiv\").style.display = \"none\";\n    document.getElementById(\"platformsDiv\").style.display = \"block\";\n}\nfunction itemConditionText(item) {\n    let conditionText = \"\";\n    if (item.condition === \"Anv\\xe4nd, tecken p\\xe5 slitage\" && (item.defects.length || item.defectDescription)) {\n        let defects = [];\n        if (item.defectDescription) conditionText = item.defectDescription;\n        else if (item.defects && item.defects.length > 0) {\n            defects = item.defects.filter((defect)=>{\n                return defect !== \"Annat\";\n            });\n            conditionText = \"Anm\\xe4rkning: \" + defects.join(\", \");\n        } else conditionText = item.condition;\n    } else conditionText = item.condition;\n    conditionText = (conditionText + \".\").replace(\"..\", \".\");\n    return conditionText;\n}\nconst getItem = async (itemId)=>{\n    const res = await callBackendApi(`/api/items/${itemId}`);\n    return {\n        ...res?.data || {},\n        id: itemId\n    };\n};\nconst main = async ()=>{\n    const params = getParamsObject();\n    const item = params.id ? await getItem(params.id) : JSON.parse(localStorage.getItem(\"latestItemCreated\"));\n    if (!item) {\n        console.error(\"Invalid item id param or no recently created item\");\n        location.href = \"/private\";\n    }\n    initializeFields(item);\n    triggerShowContent.click();\n};\nmain();\n\n},{}]},[\"YhYNY\"], \"YhYNY\", \"parcelRequire81ca\")\n\n//# sourceMappingURL=itemConfirmation.js.map\n","function colorName(color) {\n    const mapping = {\n        Beige: 'Beige', Blue: 'Blå', Brown: 'Brun', Green: 'Grön', Grey: 'Grå', Yellow: 'Gul', Gold: 'Guld',\n        Purple: 'Lila', Navy: 'Navy', Orange: 'Orange', Pink: 'Rosa', Red: 'Röd', Silver: 'Silver', Black: 'Svart',\n        Turquoise: 'Turkos', Burgundy: 'Vinröd', White: 'Vit', Multicolour: 'Flerfärgad'\n    };\n    return mapping[color] || color;\n}\n\nfunction initializeFields(item) {\n    const { humanCheckNeeded, maxPriceEstimate: mlMaxPriceEstimate, newMinMaxLog } = item.mlValuation || {};\n    if (item.infoRequests?.price?.response === 'User proposal') {\n        document.getElementById('nextStepTitle').style.display = 'block';\n        document.getElementById('nextStepTitle').innerText = 'Granskar prisändringar';\n        document.getElementById('nextStepText').innerText = 'Vi kikar på dina prisändringar, och om det ser bra ut så påbörjar vi försäljningen. Vi tar sedan hand om säljprocessen och hör av oss på SMS när plagget är sålt.';\n    } else if (humanCheckNeeded || (!mlMaxPriceEstimate && !item.infoRequests?.price?.maxPrice) || newMinMaxLog) {\n        document.getElementById('nextStepTitle').style.display = 'block';\n        document.getElementById('nextStepText').innerText = `Ditt ${item.cleanedBrand || item.brand}-plagg behöver värderas manuellt, då AI-värderingen har lägre träffsäkerhet på detta varumärke. Du kommer få ett SMS när vi värderat plagget som du kan ta ställning till.`;\n    }\n    document.getElementById('itemTitle').innerText = (item.cleanedBrand || item.brand).trim() + \"-\" + item.category.toLowerCase();\n    document.getElementById('itemPrice').innerText = item.maxPriceEstimate && !humanCheckNeeded && !newMinMaxLog ? `${item.maxPriceEstimate || mlMaxPriceEstimate} SEK` : '';\n    document.getElementById('itemPrice').style.display = 'block';\n    document.getElementById('itemSubtitle').innerText = item.model ? `${item.model}, ${colorName(item.color)}` : colorName(item.color);\n    document.getElementById('itemSize').innerText = item.size;\n    document.getElementById('itemMaterial').innerText = item.material;\n    document.getElementById('itemCondition').innerText = item.condition = itemConditionText(item);\n    if (item.originalPrice) {\n        itemOriginalPrice.innerText = item.originalPrice + ' SEK';\n        originalPriceDiv.style.display = 'flex';\n    }\n    if (item.userComment) {\n        document.getElementById('itemComment').innerText = item.userComment;\n        document.getElementById('itemCommentDiv').style.display = 'block';\n    }\n    if (item?.platformsToBePublishedOn?.length) {\n        initializePlatforms(item);\n    } else {\n        document.getElementById('platformsSection').style.display = 'none';\n    }\n}\n\nfunction initializePlatforms(item) {\n    if (item?.platformsToBePublishedOn?.length < 2) {\n        document.getElementById('platformsSection').style.display = 'none';\n        return;\n    }\n    const platformNode = document.getElementById('platformTradera');\n    item.platformsToBePublishedOn.forEach(platform => {\n        if (platform.match(/Tradera/)) {\n            return; // Tradera is set statically in Webflow and always displayed\n        }\n        const newNode = platformNode.cloneNode(true);\n        newNode.id = platform;\n        newNode.innerText = platform;\n        platformNode.parentNode.appendChild(newNode);\n    });\n    document.getElementById('platformsLoadingDiv').style.display = 'none';\n    document.getElementById('platformsDiv').style.display = 'block';\n}\n\nfunction itemConditionText(item) {\n    let conditionText = '';\n    if (item.condition === 'Använd, tecken på slitage' && (item.defects.length || item.defectDescription)) {\n        let defects = [];\n        if (item.defectDescription) {\n            conditionText = item.defectDescription;\n        }\n        else if (item.defects && item.defects.length > 0) {\n            defects = item.defects.filter((defect) => { return defect !== 'Annat'; });\n            conditionText = 'Anmärkning: ' + defects.join(', ');\n        } else {\n            conditionText = item.condition;\n        }\n    } else {\n        conditionText = item.condition;\n    }\n    conditionText = (conditionText + '.').replace('..', '.');\n\n    return conditionText;\n}\n\n\nconst getItem = async (itemId) => {\n    const res = await callBackendApi(`/api/items/${itemId}`);\n    return { ...(res?.data || {}), id: itemId };\n}\n\nconst main = async () => {\n    const params = getParamsObject();\n    const item = params.id ? await getItem(params.id) : JSON.parse(localStorage.getItem('latestItemCreated'));\n    if (!item) {\n        console.error(\"Invalid item id param or no recently created item\");\n        location.href = '/private';\n    }\n    initializeFields(item);\n    triggerShowContent.click();\n\n}\n\nmain();\n"],"names":["modules","entry","mainEntry","parcelRequireName","globalName","globalObject","globalThis","self","window","global","previousRequire","cache","nodeRequire","module","require","bind","newRequire","name","jumped","currentRequire","err","Error","code","localRequire","resolve","x","id","Module","call","exports","res","isParcelRequire","moduleName","bundle","parent","register","Object","defineProperty","get","i","length","mainExports","define","amd","colorName","color","mapping","Beige","Blue","Brown","Green","Grey","Yellow","Gold","Purple","Navy","Orange","Pink","Red","Silver","Black","Turquoise","Burgundy","White","Multicolour","getItem","itemId","callBackendApi","data","main","params","getParamsObject","item","JSON","parse","localStorage","console","error","location","href","initializeFields","conditionText","humanCheckNeeded","maxPriceEstimate","mlMaxPriceEstimate","newMinMaxLog","mlValuation","infoRequests","price","response","document","getElementById","style","display","innerText","maxPrice","cleanedBrand","brand","trim","category","toLowerCase","model","size","material","condition","defects","defectDescription","filter","defect","join","replace","originalPrice","itemOriginalPrice","originalPriceDiv","userComment","platformsToBePublishedOn","initializePlatforms","platformNode","forEach","platform","match","newNode","cloneNode","parentNode","appendChild","triggerShowContent","click"],"version":3,"file":"itemConfirmation.js.map"}