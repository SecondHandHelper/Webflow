{"mappings":"C,A,kC;A,uC;A,E;A,2D;A,E;A,4D;A,wD;A,S,C,C,C,C,C,C,C,C,C,E,2B,E,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,A,Y,O,C,C,E,E,C,C,E,C,E,E,K,E,C,E,E,A,a,O,Q,A,Y,O,O,O,E,O,O,C,I,C,Q,S,E,C,C,C,E,G,C,C,C,E,C,C,G,C,C,C,E,C,C,0D;A,+D;A,8B;A,I,E,A,Y,O,C,C,E,E,C,C,E,C,G,C,G,E,O,E,E,C,E,gE;A,6D;A,+D;A,gC;A,G,E,O,E,E,C,E,+C;A,G,G,A,U,O,E,O,E,G,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,O,C,S,C,E,I,E,C,C,E,C,E,C,E,C,O,A,M,E,E,C,E,E,K,C,C,E,I,E,C,C,E,C,I,E,M,C,G,C,C,E,C,E,C,I,C,E,O,C,E,E,E,O,C,I,C,C,O,C,C,E,C,O,C,S,E,C,E,I,E,E,O,C,G,M,A,C,I,E,C,E,E,E,C,C,E,e,C,C,E,E,M,C,S,C,E,I,C,E,C,E,I,C,M,C,E,I,C,O,C,C,C,E,E,O,C,E,E,K,C,E,E,M,C,E,E,Q,C,S,C,C,C,E,C,C,E,C,C,S,C,C,C,E,E,O,C,C,E,C,E,A,E,O,c,C,E,O,C,I,W,O,C,C,E,A,C,G,C,C,E,C,E,I,I,E,E,E,E,M,C,I,E,C,C,E,E,G,E,C,qD;A,yE;A,I,E,E,E,Y;A,U,O,S,A,a,O,O,O,O,C,E,A,Y,O,Q,O,G,C,O,W,O,C,G,G,C,I,C,E,C,C,C,C,E,C,Q,C,S,C,C,C,C,C,ECCA,IAAM,EAAS,kBAEf,GAAI,AAAwB,SAAxB,EAAO,YAAA,EACL,aAAa,OAAA,CAAQ,kBAAqB,CAAA,SAAS,QAAA,CAAS,QAAA,CAAS,YAAc,SAAS,QAAA,CAAS,QAAA,CAAS,UAAA,EAAa,CAC7H,SAAS,cAAA,CAAe,eAAe,KAAA,CAAM,OAAA,CAAU,OACvD,SAAS,cAAA,CAAe,kBAAkB,KAAA,CAAM,OAAA,CAAU,OAC1D,SAAS,cAAA,CAAe,eAAe,KAAA,CAAM,OAAA,CAAU,OACvD,SAAS,cAAA,CAAe,cAAc,KAAA,CAAM,OAAA,CAAU,OACtD,IAAM,EAAa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","sources":["<anon>","lwl.js"],"sourcesContent":["// modules are defined as an array\n// [ module function, map of requires ]\n//\n// map of requires is short require name -> numeric require\n//\n// anything defined in a previous bundle is accessed via the\n// orig method which is the require for previous bundles\n\n(function (modules, entry, mainEntry, parcelRequireName, globalName) {\n  /* eslint-disable no-undef */\n  var globalObject =\n    typeof globalThis !== 'undefined'\n      ? globalThis\n      : typeof self !== 'undefined'\n      ? self\n      : typeof window !== 'undefined'\n      ? window\n      : typeof global !== 'undefined'\n      ? global\n      : {};\n  /* eslint-enable no-undef */\n\n  // Save the require from previous bundle to this closure if any\n  var previousRequire =\n    typeof globalObject[parcelRequireName] === 'function' &&\n    globalObject[parcelRequireName];\n\n  var cache = previousRequire.cache || {};\n  // Do not use `require` to prevent Webpack from trying to bundle this call\n  var nodeRequire =\n    typeof module !== 'undefined' &&\n    typeof module.require === 'function' &&\n    module.require.bind(module);\n\n  function newRequire(name, jumped) {\n    if (!cache[name]) {\n      if (!modules[name]) {\n        // if we cannot find the module within our internal map or\n        // cache jump to the current global require ie. the last bundle\n        // that was added to the page.\n        var currentRequire =\n          typeof globalObject[parcelRequireName] === 'function' &&\n          globalObject[parcelRequireName];\n        if (!jumped && currentRequire) {\n          return currentRequire(name, true);\n        }\n\n        // If there are other bundles on this page the require from the\n        // previous one is saved to 'previousRequire'. Repeat this as\n        // many times as there are bundles until the module is found or\n        // we exhaust the require chain.\n        if (previousRequire) {\n          return previousRequire(name, true);\n        }\n\n        // Try the node require function if it exists.\n        if (nodeRequire && typeof name === 'string') {\n          return nodeRequire(name);\n        }\n\n        var err = new Error(\"Cannot find module '\" + name + \"'\");\n        err.code = 'MODULE_NOT_FOUND';\n        throw err;\n      }\n\n      localRequire.resolve = resolve;\n      localRequire.cache = {};\n\n      var module = (cache[name] = new newRequire.Module(name));\n\n      modules[name][0].call(\n        module.exports,\n        localRequire,\n        module,\n        module.exports,\n        this\n      );\n    }\n\n    return cache[name].exports;\n\n    function localRequire(x) {\n      var res = localRequire.resolve(x);\n      return res === false ? {} : newRequire(res);\n    }\n\n    function resolve(x) {\n      var id = modules[name][1][x];\n      return id != null ? id : x;\n    }\n  }\n\n  function Module(moduleName) {\n    this.id = moduleName;\n    this.bundle = newRequire;\n    this.exports = {};\n  }\n\n  newRequire.isParcelRequire = true;\n  newRequire.Module = Module;\n  newRequire.modules = modules;\n  newRequire.cache = cache;\n  newRequire.parent = previousRequire;\n  newRequire.register = function (id, exports) {\n    modules[id] = [\n      function (require, module) {\n        module.exports = exports;\n      },\n      {},\n    ];\n  };\n\n  Object.defineProperty(newRequire, 'root', {\n    get: function () {\n      return globalObject[parcelRequireName];\n    },\n  });\n\n  globalObject[parcelRequireName] = newRequire;\n\n  for (var i = 0; i < entry.length; i++) {\n    newRequire(entry[i]);\n  }\n\n  if (mainEntry) {\n    // Expose entry point to Node, AMD or browser globals\n    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js\n    var mainExports = newRequire(mainEntry);\n\n    // CommonJS\n    if (typeof exports === 'object' && typeof module !== 'undefined') {\n      module.exports = mainExports;\n\n      // RequireJS\n    } else if (typeof define === 'function' && define.amd) {\n      define(function () {\n        return mainExports;\n      });\n\n      // <script>\n    } else if (globalName) {\n      this[globalName] = mainExports;\n    }\n  }\n})({\"2mRjC\":[function(require,module,exports) {\nconst WS_SERVER = \"wss://lwl-to-mai-heypmjzjfq-ey.a.run.app\";\nconst params = getParamsObject();\nif (params.createDrafts === \"true\") {\n    if (localStorage.getItem(\"lwlItemDrafts\") && (document.referrer.includes(\"sign-in\") || document.referrer.includes(\"private\"))) {\n        document.getElementById(\"headerImage\").style.display = \"none\";\n        document.getElementById(\"threadInputDiv\").style.display = \"none\";\n        document.getElementById(\"lwlItemsDiv\").style.display = \"none\";\n        document.getElementById(\"loadingDiv\").style.display = \"flex\";\n        const draftItems = JSON.parse(localStorage.getItem(\"lwlItemDrafts\"));\n        authUser.whenSet(async ()=>{\n            await Promise.all(draftItems.map((item)=>firebase.app().functions(\"europe-west1\").httpsCallable(\"createItem\")({\n                    id: item.id,\n                    item\n                })));\n            localStorage.removeItem(\"lwlItemDrafts\");\n            location.href = \"/private#wardrobe\";\n        });\n    }\n}\nlet scrapingStarted = false;\ndocument.getElementById(\"doneButton\").addEventListener(\"click\", ()=>{\n    if (scrapingStarted) return;\n    const lwlThreadUrl = document.getElementById(\"lwlThreadUrl\");\n    if (!lwlThreadUrl.value.length) {\n        console.log(\"No url thread given\");\n        return;\n    }\n    scrapingStarted = true;\n    document.getElementById(\"lwlThreadUrl\").style.display = \"none\";\n    document.getElementById(\"buttonsDiv\").style.display = \"none\";\n    document.getElementById(\"doneButton\").style.display = \"none\";\n    document.getElementById(\"introHeading\").style.display = \"none\";\n    document.getElementById(\"scrapeProgressDiv\").style.display = \"flex\";\n    document.getElementById(\"scrapeProgress\").innerText = \"Startar...\";\n    const webSocket = new WebSocket(WS_SERVER);\n    webSocket.addEventListener(\"open\", ()=>{\n        console.log(\"connected to lwl thread scraping server\");\n        webSocket.send(JSON.stringify({\n            url: lwlThreadUrl.value\n        }));\n    });\n    webSocket.addEventListener(\"message\", async (event)=>{\n        console.log(\"received message from server\", event.data);\n        let message = event.data;\n        try {\n            message = JSON.parse(event.data);\n        } catch (e) {\n            message = {\n                status: \"Startar...\"\n            };\n        }\n        message.status === \"\" && message.data;\n        document.getElementById(\"scrapeProgress\").innerText = message.status;\n        if (message.status.match(/klar/i)) {\n            webSocket.close();\n            document.getElementById(\"scrapeProgress\").innerText = \"Skapar plagg i Mai med data h\\xe4mtade fr\\xe5n LWL\";\n            const draftItemResponse = await firebase.app().functions(\"europe-west3\").httpsCallable(\"createItemDraftsFromLwl\", {\n                timeout: 240000\n            })({\n                itemData: message.data,\n                url: lwlThreadUrl\n            });\n            if (authUser.current) location.href = \"/private#wardrobe\";\n            else {\n                document.getElementById(\"scrapeProgressDiv\").style.display = \"none\";\n                document.getElementById(\"introHeading\").innerText = \"Plaggen fr\\xe5n din tr\\xe5d. Logga in f\\xf6r att l\\xe5ta Mai s\\xe4lja dem.\";\n                document.getElementById(\"introHeading\").style.display = \"block\";\n                // showLwLDraftItemsFromPreview(draftItemResponse.data);\n                showLwLDraftItems(draftItemResponse.data);\n                document.getElementById(\"buttonsDiv\").style.display = \"block\";\n                document.getElementById(\"signInButton\").style.display = \"flex\";\n                document.getElementById(\"signInButton\").addEventListener(\"click\", async ()=>{\n                    localStorage.setItem(\"lwlItemDrafts\", JSON.stringify(draftItemResponse.data));\n                    location.href = \"/sign-in\";\n                });\n            }\n        }\n    });\n});\nlet firstPreviewShown = false;\nconst addLwLItemPreview = (itemData)=>{\n    const itemCard = document.getElementsByClassName(\"lwlitemcard\")[0];\n    const itemList = document.getElementById(\"lwlItemList\");\n    if (!firstPreviewShown) {\n        document.getElementById(\"lwlItemsDiv\").style.display = \"block\";\n        itemList.innerHTML = \"\";\n        firstPreviewShown = true;\n    }\n    const newItemCard = itemCard.cloneNode(true);\n    newItemCard.classList.add(\"lwlItemCard\");\n    const frontImage = itemData.images?.[0];\n    if (frontImage) {\n        newItemCard.querySelector(\".img-container\").style.backgroundImage = `url(\"${frontImage}\")`;\n        newItemCard.querySelector(\".no-image-text\").style.display = \"none\";\n        newItemCard.style.opacity = \"0.5\";\n    } else newItemCard.querySelector(\".img-container\").style.display = \"none\";\n    newItemCard.querySelector(\".lwl-item-title\").innerText = \"\";\n    newItemCard.querySelector(\".lwl-item-subtext\").innerText = \"\";\n    itemList.appendChild(newItemCard);\n};\nconst showLwLDraftItemsFromPreview = (draftItems)=>{\n    const itemCards = document.getElementsByClassName(\"lwlItemCard\");\n    for (const itemCard of itemCards){\n        const itemImageUrl = itemCard.getElementsByClassName(\"img-container\")[0].style.backgroundImage.slice(4, -1).replaceAll(/\"/g, \"\");\n        const draftItem = draftItems.find((di)=>di.draftSourceProperties.rawData.images.includes(itemImageUrl));\n        itemCard.style.opacity = \"1\";\n        itemCard.querySelector(\".lwl-item-title\").innerText = `${draftItem.cleanedBrand || draftItem.brand?.trim()}`;\n        itemCard.querySelector(\".lwl-item-subtext\").innerText = `${[\n            draftItem.category,\n            draftItem.maiSize\n        ].filter((i)=>i).join(\", \")}`;\n    }\n};\nconst showLwLDraftItems = (draftItems)=>{\n    document.getElementById(\"lwlItemsDiv\").style.display = \"block\";\n    const itemCard = document.getElementById(\"lwlItemCard\") || document.getElementsByClassName(\"lwlItemCard\")[0];\n    const itemList = document.getElementById(\"lwlItemList\");\n    itemList.innerHTML = \"\";\n    for (const item of draftItems){\n        const newItemCard = itemCard.cloneNode(true);\n        newItemCard.id = `lwlItemCard${item.id}`;\n        newItemCard.classList.add(\"lwlItemCard\");\n        const frontImage = item.images?.frontImage;\n        if (frontImage) {\n            newItemCard.querySelector(\".img-container\").style.backgroundImage = `url(\"${frontImage}\")`;\n            newItemCard.querySelector(\".no-image-text\").style.display = \"none\";\n        } else newItemCard.querySelector(\".img-container\").style.display = \"none\";\n        newItemCard.querySelector(\".lwl-item-title\").innerText = `${item.cleanedBrand || item.brand?.trim()}`;\n        newItemCard.querySelector(\".lwl-item-subtext\").innerText = `${[\n            item.category,\n            item.maiSize\n        ].filter((i)=>i).join(\", \")}`;\n        itemList.appendChild(newItemCard);\n    }\n};\n\n},{}]},[\"2mRjC\"], \"2mRjC\", \"parcelRequire81ca\")\n\n//# sourceMappingURL=lwl.js.map\n","const WS_SERVER = 'wss://lwl-to-mai-heypmjzjfq-ey.a.run.app';\nconst params = getParamsObject();\n\nif (params.createDrafts === 'true') {\n  if (localStorage.getItem('lwlItemDrafts') && (document.referrer.includes('sign-in') || document.referrer.includes('private'))) {\n    document.getElementById('headerImage').style.display = 'none';\n    document.getElementById('threadInputDiv').style.display = 'none';\n    document.getElementById('lwlItemsDiv').style.display = 'none';\n    document.getElementById('loadingDiv').style.display = 'flex';\n    const draftItems = JSON.parse(localStorage.getItem('lwlItemDrafts'));\n    authUser.whenSet(async () => {\n        await Promise.all(draftItems.map(item =>\n          firebase.app().functions(\"europe-west1\").httpsCallable('createItem')({id: item.id, item})\n        ));\n        localStorage.removeItem('lwlItemDrafts');\n        location.href = '/private#wardrobe';\n    });\n  }\n}\n\nlet scrapingStarted = false;\ndocument.getElementById('doneButton').addEventListener('click', () => {\n  if (scrapingStarted) {\n    return;\n  }\n  const lwlThreadUrl = document.getElementById('lwlThreadUrl');\n  if (!lwlThreadUrl.value.length) {\n    console.log('No url thread given');\n    return;\n  }\n  scrapingStarted = true;\n  document.getElementById('lwlThreadUrl').style.display = 'none';\n  document.getElementById('buttonsDiv').style.display = 'none';\n  document.getElementById('doneButton').style.display = 'none';\n  document.getElementById('introHeading').style.display = 'none';\n\n  document.getElementById('scrapeProgressDiv').style.display = 'flex';\n  document.getElementById('scrapeProgress').innerText = 'Startar...'\n  const webSocket = new WebSocket(WS_SERVER);\n  webSocket.addEventListener('open', () => {\n    console.log('connected to lwl thread scraping server');\n    webSocket.send(JSON.stringify({ url: lwlThreadUrl.value }));\n  });\n  webSocket.addEventListener('message', async (event) => {\n    console.log('received message from server', event.data);\n    let message = event.data;\n    try {\n      message = JSON.parse(event.data);\n    } catch (e) {\n      message = { status: 'Startar...' };\n    }\n    if (message.status === '' && message.data) {\n      // addLwLItemPreview(message.data);\n    }\n    document.getElementById('scrapeProgress').innerText = message.status;\n    if (message.status.match(/klar/i)) {\n      webSocket.close();\n      document.getElementById('scrapeProgress').innerText = 'Skapar plagg i Mai med data hämtade från LWL';\n      const draftItemResponse = await firebase.app().functions(\"europe-west3\").httpsCallable('createItemDraftsFromLwl', { timeout: 240*1000})({\n        itemData: message.data,\n        url: lwlThreadUrl\n      });\n      if (authUser.current) {\n        location.href = '/private#wardrobe';\n      } else {\n        document.getElementById('scrapeProgressDiv').style.display = 'none';\n        document.getElementById('introHeading').innerText = 'Plaggen från din tråd. Logga in för att låta Mai sälja dem.';\n        document.getElementById('introHeading').style.display = 'block';\n\n        // showLwLDraftItemsFromPreview(draftItemResponse.data);\n        showLwLDraftItems(draftItemResponse.data);\n        document.getElementById('buttonsDiv').style.display = 'block';\n        document.getElementById('signInButton').style.display = 'flex';\n        document.getElementById('signInButton').addEventListener('click', async () => {\n          localStorage.setItem('lwlItemDrafts', JSON.stringify(draftItemResponse.data));\n          location.href = '/sign-in';\n        });\n      }\n    }\n  });\n})\n\nlet firstPreviewShown = false;\nconst addLwLItemPreview = (itemData) => {\n  const itemCard = document.getElementsByClassName('lwlitemcard')[0];\n  const itemList = document.getElementById('lwlItemList');\n  if (!firstPreviewShown) {\n    document.getElementById('lwlItemsDiv').style.display = 'block'\n    itemList.innerHTML = '';\n    firstPreviewShown = true;\n  }\n  const newItemCard = itemCard.cloneNode(true);\n  newItemCard.classList.add('lwlItemCard');\n  const frontImage = itemData.images?.[0];\n  if (frontImage) {\n    newItemCard.querySelector('.img-container').style.backgroundImage = `url(\"${frontImage}\")`;\n    newItemCard.querySelector('.no-image-text').style.display = 'none';\n    newItemCard.style.opacity = '0.5';\n  } else {\n    newItemCard.querySelector('.img-container').style.display = 'none';\n  }\n  newItemCard.querySelector('.lwl-item-title').innerText = '';\n  newItemCard.querySelector('.lwl-item-subtext').innerText = '';\n  itemList.appendChild(newItemCard);\n}\n\nconst showLwLDraftItemsFromPreview = (draftItems) => {\n  const itemCards = document.getElementsByClassName('lwlItemCard');\n  for (const itemCard of itemCards) {\n    const itemImageUrl = itemCard.getElementsByClassName('img-container')[0].style.backgroundImage.slice(4,-1).replaceAll(/\"/g, '');\n    const draftItem = draftItems.find(di => di.draftSourceProperties.rawData.images.includes(itemImageUrl));\n    itemCard.style.opacity = '1';\n    itemCard.querySelector('.lwl-item-title').innerText = `${draftItem.cleanedBrand || draftItem.brand?.trim()}`;\n    itemCard.querySelector('.lwl-item-subtext').innerText = `${[draftItem.category, draftItem.maiSize].filter(i => i).join(', ')}`;\n  }\n}\n\nconst showLwLDraftItems = (draftItems) => {\n  document.getElementById('lwlItemsDiv').style.display = 'block'\n  const itemCard = document.getElementById('lwlItemCard') || document.getElementsByClassName('lwlItemCard')[0];\n  const itemList = document.getElementById('lwlItemList');\n  itemList.innerHTML = '';\n  for (const item of draftItems) {\n    const newItemCard = itemCard.cloneNode(true);\n    newItemCard.id = `lwlItemCard${item.id}`;\n    newItemCard.classList.add('lwlItemCard');\n    const frontImage = item.images?.frontImage;\n    if (frontImage) {\n      newItemCard.querySelector('.img-container').style.backgroundImage = `url(\"${frontImage}\")`;\n      newItemCard.querySelector('.no-image-text').style.display = 'none';\n    } else {\n      newItemCard.querySelector('.img-container').style.display = 'none';\n    }\n    newItemCard.querySelector('.lwl-item-title').innerText = `${item.cleanedBrand || item.brand?.trim()}`;\n    newItemCard.querySelector('.lwl-item-subtext').innerText = `${[item.category, item.maiSize].filter(i => i).join(', ')}`;\n    itemList.appendChild(newItemCard);\n  }\n}\n"],"names":["modules","entry","mainEntry","parcelRequireName","globalName","globalObject","globalThis","self","window","global","previousRequire","cache","nodeRequire","module","require","bind","newRequire","name","jumped","currentRequire","err","Error","code","localRequire","resolve","x","id","Module","call","exports","res","isParcelRequire","moduleName","bundle","parent","register","Object","defineProperty","get","i","length","mainExports","define","amd","params","getParamsObject","createDrafts","localStorage","getItem","document","referrer","includes","getElementById","style","display","draftItems","JSON","parse","authUser","whenSet","Promise","all","map","item","firebase","app","functions","httpsCallable","removeItem","location","href","scrapingStarted","addEventListener","lwlThreadUrl","value","console","log","innerText","webSocket","WebSocket","send","stringify","url","event","data","message","e","status","match","close","draftItemResponse","timeout","itemData","current","showLwLDraftItems","setItem","itemCard","getElementsByClassName","itemList","innerHTML","newItemCard","cloneNode","classList","add","frontImage","images","querySelector","backgroundImage","cleanedBrand","brand","trim","category","maiSize","filter","join","appendChild"],"version":3,"file":"lwl.js.map"}